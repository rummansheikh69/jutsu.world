const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/index-CVGtrNBR.BsM94BWm.js","_astro/index.DG-76D6f.js"])))=>i.map(i=>d[i]);
import{d as j,_ as Xi}from"./index.DG-76D6f.js";var Ki=Object.defineProperty,zi=Object.defineProperties,$i=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,yr=Object.prototype.hasOwnProperty,Tr=Object.prototype.propertyIsEnumerable,Gt=(e,t,n)=>t in e?Ki(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))yr.call(t,n)&&Gt(e,n,t[n]);if(et)for(var n of et(t))Tr.call(t,n)&&Gt(e,n,t[n]);return e},D=(e,t)=>zi(e,$i(t)),br=(e,t)=>{var n={};for(var r in e)yr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&et)for(var r of et(e))t.indexOf(r)<0&&Tr.call(e,r)&&(n[r]=e[r]);return n},O=(e,t,n)=>Gt(e,typeof t!="symbol"?t+"":t,n),q=(e,t,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(c){i(c)}},s=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(e,t)).next())});const Wi=({apiKey:e})=>{(function(t,n){var r=t.amplitude||{_q:[],_iq:{}},i=n.createElement("script");i.type="text/javascript",i.integrity="sha384-+EO59vL/X7v6VE2s6/F4HxfHlK0nDUVWKVg8K9oUlvffAeeaShVBmbORTC2D3UF+",i.crossOrigin="anonymous",i.async=!0,i.src="https://cdn.amplitude.com/libs/amplitude-8.17.0-min.gz.js",i.onload=function(){t.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK"),amplitude.getInstance().init(e)};var o=n.getElementsByTagName("script")[0];o.parentNode.insertBefore(i,o);function s(f,g){f.prototype[g]=function(){return this._q.push([g].concat(Array.prototype.slice.call(arguments,0))),this}}for(var a=function(){return this._q=[],this},u=["add","append","clearAll","prepend","set","setOnce","unset","preInsert","postInsert","remove"],c=0;c<u.length;c++)s(a,u[c]);r.Identify=a;for(var l=function(){return this._q=[],this},p=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],d=0;d<p.length;d++)s(l,p[d]);r.Revenue=l;var v=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","enableTracking","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"];function _(f){function g(b){f[b]=function(){f._q.push([b].concat(Array.prototype.slice.call(arguments,0)))}}for(var m=0;m<v.length;m++)g(v[m])}_(r),r.getInstance=function(f){return f=(!f||f.length===0?"$default_instance":f).toLowerCase(),Object.prototype.hasOwnProperty.call(r._iq,f)||(r._iq[f]={_q:[]},_(r._iq[f])),r._iq[f]},t.amplitude=r})(window,document)},Yi=({projectToken:e})=>{if(window.mixpanel)return;(function(n,r){if(!r.__SV){var i,o;window.mixpanel=r,r._i=[],r.init=function(s,a,u){function c(d,v){var _=v.split(".");_.length==2&&(d=d[_[0]],v=_[1]),d[v]=function(){d.push([v].concat(Array.prototype.slice.call(arguments,0)))}}var l=r;for(typeof u<"u"?l=r[u]=[]:u="mixpanel",l.people=l.people||[],l.toString=function(d){var v="mixpanel";return u!=="mixpanel"&&(v+="."+u),d||(v+=" (stub)"),v},l.people.toString=function(){return l.toString(1)+".people (stub)"},i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),o=0;o<i.length;o++)c(l,i[o]);var p="set set_once union unset remove delete".split(" ");l.get_group=function(){function d(g){v[g]=function(){call2_args=arguments,call2=[g].concat(Array.prototype.slice.call(call2_args,0)),l.push([_,call2])}}for(var v={},_=["get_group"].concat(Array.prototype.slice.call(arguments,0)),f=0;f<p.length;f++)d(p[f]);return v},r._i.push([s,a,u])},r.__SV=1.2}})(document,window.mixpanel||[]);const t=document.createElement("script");t.src=Ji,document.head.appendChild(t),t.addEventListener("load",()=>{var n;(n=window.mixpanel)==null||n.init(e)})},Ji="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",_p=1e3,gp=2e3,mp=144e5,Ep={normal:{bytes:1e7,time:24e4},canvas:{bytes:16e6,time:5e3}},yp=100,Qi="app.highlight.io";var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof j.global<"u"?j.global:typeof self<"u"?self:{};function Sr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wr={exports:{}},Cn={exports:{}},In;function Zi(){return In||(In=1,function(e,t){(function(n,r){e.exports=r()})(Or,function(){function n(f){return!isNaN(parseFloat(f))&&isFinite(f)}function r(f){return f.charAt(0).toUpperCase()+f.substring(1)}function i(f){return function(){return this[f]}}var o=["isConstructor","isEval","isNative","isToplevel"],s=["columnNumber","lineNumber"],a=["fileName","functionName","source"],u=["args"],c=["evalOrigin"],l=o.concat(s,a,u,c);function p(f){if(f)for(var g=0;g<l.length;g++)f[l[g]]!==void 0&&this["set"+r(l[g])](f[l[g]])}p.prototype={getArgs:function(){return this.args},setArgs:function(f){if(Object.prototype.toString.call(f)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=f},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(f){if(f instanceof p)this.evalOrigin=f;else if(f instanceof Object)this.evalOrigin=new p(f);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var f=this.getFileName()||"",g=this.getLineNumber()||"",m=this.getColumnNumber()||"",b=this.getFunctionName()||"";return this.getIsEval()?f?"[eval] ("+f+":"+g+":"+m+")":"[eval]:"+g+":"+m:b?b+" ("+f+":"+g+":"+m+")":f+":"+g+":"+m}},p.fromString=function(f){var g=f.indexOf("("),m=f.lastIndexOf(")"),b=f.substring(0,g),P=f.substring(g+1,m).split(","),F=f.substring(m+1);if(F.indexOf("@")===0)var V=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(F,""),Q=V[1],Fe=V[2],Te=V[3];return new p({functionName:b,args:P||void 0,fileName:Q,lineNumber:Fe||void 0,columnNumber:Te||void 0})};for(var d=0;d<o.length;d++)p.prototype["get"+r(o[d])]=i(o[d]),p.prototype["set"+r(o[d])]=function(f){return function(g){this[f]=!!g}}(o[d]);for(var v=0;v<s.length;v++)p.prototype["get"+r(s[v])]=i(s[v]),p.prototype["set"+r(s[v])]=function(f){return function(g){if(!n(g))throw new TypeError(f+" must be a Number");this[f]=Number(g)}}(s[v]);for(var _=0;_<a.length;_++)p.prototype["get"+r(a[_])]=i(a[_]),p.prototype["set"+r(a[_])]=function(f){return function(g){this[f]=String(g)}}(a[_]);return p})}(Cn)),Cn.exports}(function(e,t){(function(n,r){e.exports=r(Zi())})(Or,function(n){var r=/(^|@)\S+:\d+/,i=/^\s*at .*(\S+:\d+|\(native\))/m,o=/^(eval@)?(\[native code])?$/;return{parse:function(s){if(typeof s.stacktrace<"u"||typeof s["opera#sourceloc"]<"u")return this.parseOpera(s);if(s.stack&&s.stack.match(i))return this.parseV8OrIE(s);if(s.stack)return this.parseFFOrSafari(s);throw new Error("Cannot parse given Error object")},extractLocation:function(s){if(s.indexOf(":")===-1)return[s];var a=/(.+?)(?::(\d+))?(?::(\d+))?$/,u=a.exec(s.replace(/[()]/g,""));return[u[1],u[2]||void 0,u[3]||void 0]},parseV8OrIE:function(s){var a=s.stack.split(`
`).filter(function(u){return!!u.match(i)},this);return a.map(function(u){u.indexOf("(eval ")>-1&&(u=u.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var c=u.replace(/^\s+/,"").replace(/\(eval code/g,"("),l=c.match(/ (\((.+):(\d+):(\d+)\)$)/);c=l?c.replace(l[0],""):c;var p=c.split(/\s+/).slice(1),d=this.extractLocation(l?l[1]:p.pop()),v=p.join(" ")||void 0,_=["eval","<anonymous>"].indexOf(d[0])>-1?void 0:d[0];return new n({functionName:v,fileName:_,lineNumber:d[1],columnNumber:d[2],source:u})},this)},parseFFOrSafari:function(s){var a=s.stack.split(`
`).filter(function(u){return!u.match(o)},this);return a.map(function(u){if(u.indexOf(" > eval")>-1&&(u=u.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),u.indexOf("@")===-1&&u.indexOf(":")===-1)return new n({functionName:u});var c=/((.*".+"[^@]*)?[^@]*)(?:@)/,l=u.match(c),p=l&&l[1]?l[1]:void 0,d=this.extractLocation(u.replace(c,""));return new n({functionName:p,fileName:d[0],lineNumber:d[1],columnNumber:d[2],source:u})},this)},parseOpera:function(s){return!s.stacktrace||s.message.indexOf(`
`)>-1&&s.message.split(`
`).length>s.stacktrace.split(`
`).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){for(var a=/Line (\d+).*script (?:in )?(\S+)/i,u=s.message.split(`
`),c=[],l=2,p=u.length;l<p;l+=2){var d=a.exec(u[l]);d&&c.push(new n({fileName:d[2],lineNumber:d[1],source:u[l]}))}return c},parseOpera10:function(s){for(var a=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,u=s.stacktrace.split(`
`),c=[],l=0,p=u.length;l<p;l+=2){var d=a.exec(u[l]);d&&c.push(new n({functionName:d[3]||void 0,fileName:d[2],lineNumber:d[1],source:u[l]}))}return c},parseOpera11:function(s){var a=s.stack.split(`
`).filter(function(u){return!!u.match(r)&&!u.match(/^Error created at/)},this);return a.map(function(u){var c=u.split("@"),l=this.extractLocation(c.pop()),p=c.shift()||"",d=p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,v;p.match(/\(([^)]*)\)/)&&(v=p.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var _=v===void 0||v==="[arguments not available]"?void 0:v.split(",");return new n({functionName:d,args:_,fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:u})},this)}}})})(wr);var eo=wr.exports;const tt=Sr(eo);function to(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}function no(e){if(!e||!e.outerHTML)return"";let t="";for(;e.parentElement;){let n=e.localName;if(!n)break;n=n.toLowerCase();let r=e.parentElement,i=[];if(r.children&&r.children.length>0)for(let o=0;o<r.children.length;o++){let s=r.children[o];s.localName&&s.localName.toLowerCase&&s.localName.toLowerCase()===n&&i.push(s)}i.length>1&&(n+=":eq("+i.indexOf(e)+")"),t=n+(t?">"+t:""),e=r}return t}function Xt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rr(e,t){if(t===0)return!0;const n=Object.keys(e);for(const r of n)if(Xt(e[r])&&Rr(e[r],t-1))return!0;return!1}function Ot(e,t){const n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,t);const r=[],i=[];return JSON.stringify(e,function(a,u){if(r.length>0){const c=r.indexOf(this);~c?r.splice(c+1):r.push(this),~c?i.splice(c,1/0,a):i.push(a),~r.indexOf(u)&&(r[0]===u?u="[Circular ~]":u="[Circular ~."+i.slice(0,r.indexOf(u)).join(".")+"]")}else r.push(u);if(u==null)return u;if(o(u))return s(u);if(u instanceof Event){const c={};for(const l in u){const p=u[l];Array.isArray(p)?c[l]=no(p.length?p[0]:null):c[l]=p}return c}else{if(u instanceof Node)return u instanceof HTMLElement?u?u.outerHTML:"":u.nodeName;if(u instanceof Error)return u.name+": "+u.message}return u});function o(a){return Xt(a)&&Object.keys(a).length>n.numOfKeysLimit||typeof a=="function"?!0:a instanceof Event&&a.isTrusted===!1?Object.keys(a).length===1:!!(Xt(a)&&Rr(a,n.depthOfLimit))}function s(a){let u=a.toString();return n.stringLengthLimit&&u.length>n.stringLengthLimit&&(u=`${u.slice(0,n.stringLengthLimit)}...`),u}}function ro(){var e=document.createElement("canvas");return e.getContext&&e.getContext("2d")?e.toDataURL("image/webp").indexOf("data:image/webp")==0:!1}function Tp(){return ro()?{type:"image/webp",quality:.9}:{type:"image/jpeg",quality:.6}}function io(e,t){const n=t.logger;let r;r=window[n];const i=[];if(t.level.includes("error")&&window){const s=a=>{const{message:u,error:c}=a;let l=[];c&&(l=tt.parse(c));const p=[Ot(u,t.stringifyOptions)];e({type:"Error",trace:l,time:Date.now(),value:p})};window.addEventListener("error",s),i.push(()=>{window&&window.removeEventListener("error",s)})}for(const s of t.level)i.push(o(r,s));return()=>{i.forEach(s=>s())};function o(s,a){return s[a]?to(s,a,u=>(...c)=>{u.apply(this,c);try{const l=tt.parse(new Error),p=t.serializeConsoleAttributes?c.map(d=>typeof d=="object"?Ot(d,t.stringifyOptions):d):c.filter(d=>typeof d!="object").map(d=>`${d}`);e({type:a,trace:l.slice(1),value:p,attributes:Ot(c.filter(d=>typeof d=="object").reduce((d,v)=>k(k({},d),v),{}),t.stringifyOptions),time:Date.now()})}catch(l){u("highlight logger error:",l,...c)}}):()=>{}}}var Kt={exports:{}};(function(e,t){t=e.exports=n,t.getSerialize=r;function n(i,o,s,a){return JSON.stringify(i,r(o,a),s)}function r(i,o){var s=[],a=[];return o==null&&(o=function(u,c){return s[0]===c?"[Circular ~]":"[Circular ~."+a.slice(0,s.indexOf(c)).join(".")+"]"}),function(u,c){if(s.length>0){var l=s.indexOf(this);~l?s.splice(l+1):s.push(this),~l?a.splice(l,1/0,u):a.push(u),~s.indexOf(c)&&(c=o.call(this,u,c))}else s.push(c);return i==null?c:i.call(this,u,c)}}})(Kt,Kt.exports);var oo=Kt.exports;const nt=Sr(oo);function St(e,t,n,r){var i,o,s,a;let u=[];try{u=tt.parse(r??t)}catch{u=tt.parse(new Error)}let c={};t instanceof Error&&(t=t.message,t.cause&&(c={"exception.cause":t.cause}));const l=ao(u);e({event:nt(t),type:"window.onerror",url:window.location.href,source:n??"",lineNumber:(i=l[0])!=null&&i.lineNumber?(o=l[0])==null?void 0:o.lineNumber:0,columnNumber:(s=l[0])!=null&&s.columnNumber?(a=l[0])==null?void 0:a.columnNumber:0,stackTrace:l,timestamp:new Date().toISOString(),payload:c?nt(c):void 0})}const so=(e,{enablePromisePatch:t})=>{if(typeof window>"u")return()=>{};const n=window.onerror=(s,a,u,c,l)=>{St(e,s,a,l)},r=window.onunhandledrejection=s=>{if(s.reason){const a=s.promise;a.getStack?St(e,s.reason,s.type,a.getStack()):St(e,s.reason,s.type)}},i=window.Promise,o=class extends i{constructor(s){super(s),O(this,"promiseCreationError"),this.promiseCreationError=new Error}getStack(){return this.promiseCreationError}static shouldPatch(){const s=typeof window.Zone>"u";return t&&s}};return o.shouldPatch()&&(window.Promise=o),()=>{window.Promise=i,window.onunhandledrejection=r,window.onerror=n}},ao=e=>{var t,n;if(e.length===0)return e;const r=e[0];return(t=r.fileName)!=null&&t.includes("highlight.run")||(n=r.fileName)!=null&&n.includes("highlight.io")||r.functionName==="new highlightPromise"?e.slice(1):e},Pn=['["\\"Script error.\\""]','"Script error."','["\\"Load failed.\\""]','"Load failed."','["\\"Network request failed.\\""]','"Network request failed."','["\\"Document is not focused.\\""]','"Document is not focused."','["\\"Failed to fetch\\""]','"Failed to fetch"','[{"isTrusted":true}]','{"isTrusted":true}','["{}"]','"{}"','[""]','""','["\\"\\""]','""'],kn=["websocket error",'\\"ResizeObserver loop'];var uo=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof j.global=="object"?j.global:{},se="1.9.0",xn=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function co(e){var t=new Set([e]),n=new Set,r=e.match(xn);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(a){return a===e};function o(a){return n.add(a),!1}function s(a){return t.add(a),!0}return function(a){if(t.has(a))return!0;if(n.has(a))return!1;var u=a.match(xn);if(!u)return o(a);var c={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return c.prerelease!=null||i.major!==c.major?o(a):i.major===0?i.minor===c.minor&&i.patch<=c.patch?s(a):o(a):i.minor<=c.minor?s(a):o(a)}}var lo=co(se),po=se.split(".")[0],ke=Symbol.for("opentelemetry.js.api."+po),xe=uo;function Ue(e,t,n,r){var i;r===void 0&&(r=!1);var o=xe[ke]=(i=xe[ke])!==null&&i!==void 0?i:{version:se};if(!r&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(s.stack||s.message),!1}if(o.version!==se){var s=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+se);return n.error(s.stack||s.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+se+"."),!0}function ce(e){var t,n,r=(t=xe[ke])===null||t===void 0?void 0:t.version;if(!(!r||!lo(r)))return(n=xe[ke])===null||n===void 0?void 0:n[e]}function Be(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+se+".");var n=xe[ke];n&&delete n[e]}var fo=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},ho=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},vo=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return be("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return be("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return be("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return be("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return be("verbose",this._namespace,t)},e}();function be(e,t,n){var r=ce("diag");if(r)return n.unshift(t),r[e].apply(r,ho([],fo(n),!1))}var L;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(L||(L={}));function _o(e,t){e<L.NONE?e=L.NONE:e>L.ALL&&(e=L.ALL),t=t||{};function n(r,i){var o=t[r];return typeof o=="function"&&e>=i?o.bind(t):function(){}}return{error:n("error",L.ERROR),warn:n("warn",L.WARN),info:n("info",L.INFO),debug:n("debug",L.DEBUG),verbose:n("verbose",L.VERBOSE)}}var go=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},mo=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Eo="diag",G=function(){function e(){function t(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=ce("diag");if(a)return a[i].apply(a,mo([],go(o),!1))}}var n=this,r=function(i,o){var s,a,u;if(o===void 0&&(o={logLevel:L.INFO}),i===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((s=c.stack)!==null&&s!==void 0?s:c.message),!1}typeof o=="number"&&(o={logLevel:o});var l=ce("diag"),p=_o((a=o.logLevel)!==null&&a!==void 0?a:L.INFO,i);if(l&&!o.suppressOverrideMessage){var d=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+d),p.warn("Current logger will overwrite one already registered from "+d)}return Ue("diag",p,n,!0)};n.setLogger=r,n.disable=function(){Be(Eo,n)},n.createComponentLogger=function(i){return new vo(i)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),yo=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},To=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bo=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=yo(t,2),r=n[0],i=n[1];return[r,i]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new e(this._entries);try{for(var s=To(r),a=s.next();!a.done;a=s.next()){var u=a.value;o._entries.delete(u)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}(),Oo=Symbol("BaggageEntryMetadata"),So=G.instance();function wo(e){return e===void 0&&(e={}),new bo(new Map(Object.entries(e)))}function Ro(e){return typeof e!="string"&&(So.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:Oo,toString:function(){return e}}}function dn(e){return Symbol.for(e)}var No=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,i){var o=new e(n._currentContext);return o._currentContext.set(r,i),o},n.deleteValue=function(r){var i=new e(n._currentContext);return i._currentContext.delete(r),i}}return e}(),re=new No,pe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lo=function(){function e(){}return e.prototype.createGauge=function(t,n){return Bo},e.prototype.createHistogram=function(t,n){return jo},e.prototype.createCounter=function(t,n){return Uo},e.prototype.createUpDownCounter=function(t,n){return Fo},e.prototype.createObservableGauge=function(t,n){return Ho},e.prototype.createObservableCounter=function(t,n){return Vo},e.prototype.createObservableUpDownCounter=function(t,n){return qo},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),ht=function(){function e(){}return e}(),Ao=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(ht),Co=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(ht),Io=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(ht),Po=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(ht),fn=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),ko=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(fn),xo=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(fn),Do=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(fn),Mo=new Lo,Uo=new Ao,Bo=new Io,jo=new Po,Fo=new Co,Vo=new ko,Ho=new xo,qo=new Do,Go={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},Xo={set:function(e,t,n){e!=null&&(e[t]=n)}},Ko=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},zo=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},$o=function(){function e(){}return e.prototype.active=function(){return re},e.prototype.with=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return n.call.apply(n,zo([r],Ko(i),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),Wo=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Yo=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},wt="context",Jo=new $o,vt=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Ue(wt,t,G.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,Yo([t,n,r],Wo(o),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return ce(wt)||Jo},e.prototype.disable=function(){this._getContextManager().disable(),Be(wt,G.instance())},e}(),Y;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Y||(Y={}));var Nr="0000000000000000",Lr="00000000000000000000000000000000",Ar={traceId:Lr,spanId:Nr,traceFlags:Y.NONE},Le=function(){function e(t){t===void 0&&(t=Ar),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),hn=dn("OpenTelemetry Context Key SPAN");function vn(e){return e.getValue(hn)||void 0}function Qo(){return vn(vt.getInstance().active())}function _n(e,t){return e.setValue(hn,t)}function Zo(e){return e.deleteValue(hn)}function es(e,t){return _n(e,new Le(t))}function Cr(e){var t;return(t=vn(e))===null||t===void 0?void 0:t.spanContext()}var ts=/^([0-9a-f]{32})$/i,ns=/^[0-9a-f]{16}$/i;function Ir(e){return ts.test(e)&&e!==Lr}function rs(e){return ns.test(e)&&e!==Nr}function _t(e){return Ir(e.traceId)&&rs(e.spanId)}function is(e){return new Le(e)}var Rt=vt.getInstance(),Pr=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=Rt.active());var i=!!(n!=null&&n.root);if(i)return new Le;var o=r&&Cr(r);return os(o)&&_t(o)?new Le(o):new Le},e.prototype.startActiveSpan=function(t,n,r,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,s=r,a=i);var u=s??Rt.active(),c=this.startSpan(t,o,u),l=_n(u,c);return Rt.with(l,a,void 0,c)}},e}();function os(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var ss=new Pr,as=function(){function e(t,n,r,i){this._provider=t,this.name=n,this.version=r,this.options=i}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):ss},e}(),us=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new Pr},e}(),cs=new us,Dn=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var i;return(i=this.getDelegateTracer(t,n,r))!==null&&i!==void 0?i:new as(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:cs},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,n,r)},e}(),rt;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(rt||(rt={}));var De;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(De||(De={}));var zt;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(zt||(zt={}));var S=vt.getInstance(),T=G.instance(),ls=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return Mo},e}(),ps=new ls,Nt="metrics",ds=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return Ue(Nt,t,G.instance())},e.prototype.getMeterProvider=function(){return ce(Nt)||ps},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){Be(Nt,G.instance())},e}(),kr=ds.getInstance(),fs=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),gn=dn("OpenTelemetry Baggage Key");function xr(e){return e.getValue(gn)||void 0}function hs(){return xr(vt.getInstance().active())}function vs(e,t){return e.setValue(gn,t)}function _s(e){return e.deleteValue(gn)}var Lt="propagation",gs=new fs,ms=function(){function e(){this.createBaggage=wo,this.getBaggage=xr,this.getActiveBaggage=hs,this.setBaggage=vs,this.deleteBaggage=_s}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Ue(Lt,t,G.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=Xo),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=Go),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Be(Lt,G.instance())},e.prototype._getGlobalPropagator=function(){return ce(Lt)||gs},e}(),M=ms.getInstance(),At="trace",Es=function(){function e(){this._proxyTracerProvider=new Dn,this.wrapSpanContext=is,this.isSpanContextValid=_t,this.deleteSpan=Zo,this.getSpan=vn,this.getActiveSpan=Qo,this.getSpanContext=Cr,this.setSpan=_n,this.setSpanContext=es}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=Ue(At,this._proxyTracerProvider,G.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return ce(At)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){Be(At,G.instance()),this._proxyTracerProvider=new Dn},e}(),N=Es.getInstance(),Dr=dn("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function ys(e){return e.setValue(Dr,!0)}function mn(e){return e.getValue(Dr)===!0}var Ts="=",$t=";",it=",",Ct="baggage",bs=180,Os=4096,Ss=8192,ws=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o};function Mr(e){return e.reduce(function(t,n){var r=""+t+(t!==""?it:"")+n;return r.length>Ss?t:r},"")}function Ur(e){return e.getAllEntries().map(function(t){var n=ws(t,2),r=n[0],i=n[1],o=encodeURIComponent(r)+"="+encodeURIComponent(i.value);return i.metadata!==void 0&&(o+=$t+i.metadata.toString()),o})}function En(e){var t=e.split($t);if(!(t.length<=0)){var n=t.shift();if(n){var r=n.indexOf(Ts);if(!(r<=0)){var i=decodeURIComponent(n.substring(0,r).trim()),o=decodeURIComponent(n.substring(r+1).trim()),s;return t.length>0&&(s=Ro(t.join($t))),{key:i,value:o,metadata:s}}}}}function Rs(e){return typeof e!="string"||e.length===0?{}:e.split(it).map(function(t){return En(t)}).filter(function(t){return t!==void 0&&t.value.length>0}).reduce(function(t,n){return t[n.key]=n.value,t},{})}var Br=function(){function e(){}return e.prototype.inject=function(t,n,r){var i=M.getBaggage(t);if(!(!i||mn(t))){var o=Ur(i).filter(function(a){return a.length<=Os}).slice(0,bs),s=Mr(o);s.length>0&&r.set(n,Ct,s)}},e.prototype.extract=function(t,n,r){var i=r.get(n,Ct),o=Array.isArray(i)?i.join(it):i;if(!o)return t;var s={};if(o.length===0)return t;var a=o.split(it);return a.forEach(function(u){var c=En(u);if(c){var l={value:c.value};c.metadata&&(l.metadata=c.metadata),s[c.key]=l}}),Object.entries(s).length===0?t:M.setBaggage(t,M.createBaggage(s))},e.prototype.fields=function(){return[Ct]},e}(),jr=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ns=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o};function We(e){var t,n,r={};if(typeof e!="object"||e==null)return r;try{for(var i=jr(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=Ns(o.value,2),a=s[0],u=s[1];if(!Ls(a)){T.warn("Invalid attribute key: "+a);continue}if(!Fr(u)){T.warn("Invalid attribute value set for key: "+a);continue}Array.isArray(u)?r[a]=u.slice():r[a]=u}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ls(e){return typeof e=="string"&&e.length>0}function Fr(e){return e==null?!0:Array.isArray(e)?As(e):Vr(e)}function As(e){var t,n,r;try{for(var i=jr(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(s!=null){if(!r){if(Vr(s)){r=typeof s;continue}return!1}if(typeof s!==r)return!1}}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0}function Vr(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}function Cs(){return function(e){T.error(Is(e))}}function Is(e){return typeof e=="string"?e:JSON.stringify(Ps(e))}function Ps(e){for(var t={},n=e;n!==null;)Object.getOwnPropertyNames(n).forEach(function(r){if(!t[r]){var i=n[r];i&&(t[r]=String(i))}}),n=Object.getPrototypeOf(n);return t}var ks=Cs();function ot(e){try{ks(e)}catch{}}var H;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(H||(H={}));var xs=",",Ds=["OTEL_SDK_DISABLED"];function Ms(e){return Ds.indexOf(e)>-1}var Us=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Bs(e){return Us.indexOf(e)>-1}var js=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Fs(e){return js.indexOf(e)>-1}var Ye=1/0,Je=128,Vs=128,Hs=128,Hr={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:L.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ye,OTEL_ATTRIBUTE_COUNT_LIMIT:Je,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ye,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Je,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ye,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Je,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Vs,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Hs,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:H.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function qs(e,t,n){if(typeof n[e]<"u"){var r=String(n[e]);t[e]=r.toLowerCase()==="true"}}function Gs(e,t,n,r,i){if(r===void 0&&(r=-1/0),i===void 0&&(i=1/0),typeof n[e]<"u"){var o=Number(n[e]);isNaN(o)||(o<r?t[e]=r:o>i?t[e]=i:t[e]=o)}}function Xs(e,t,n,r){r===void 0&&(r=xs);var i=n[e];typeof i=="string"&&(t[e]=i.split(r).map(function(o){return o.trim()}))}var Ks={ALL:L.ALL,VERBOSE:L.VERBOSE,DEBUG:L.DEBUG,INFO:L.INFO,WARN:L.WARN,ERROR:L.ERROR,NONE:L.NONE};function zs(e,t,n){var r=n[e];if(typeof r=="string"){var i=Ks[r.toUpperCase()];i!=null&&(t[e]=i)}}function qr(e){var t={};for(var n in Hr){var r=n;switch(r){case"OTEL_LOG_LEVEL":zs(r,t,e);break;default:if(Ms(r))qs(r,t,e);else if(Bs(r))Gs(r,t,e);else if(Fs(r))Xs(r,t,e);else{var i=e[r];typeof i<"u"&&i!==null&&(t[r]=String(i))}}}return t}var Ae=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof j.global=="object"?j.global:{};function J(){var e=qr(Ae);return Object.assign({},Hr,e)}function $s(){return qr(Ae)}function Mn(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function yn(e){for(var t=new Uint8Array(e.length/2),n=0,r=0;r<e.length;r+=2){var i=Mn(e.charCodeAt(r)),o=Mn(e.charCodeAt(r+1));t[n++]=i<<4|o}return t}var U=performance,Ws="1.26.0",Ys="exception.type",Js="exception.message",Qs="exception.stacktrace",Zs="http.method",ea="http.url",ta="http.host",na="http.scheme",ra="http.status_code",ia="http.user_agent",oa="http.response_content_length",sa="http.response_content_length_uncompressed",It=Ys,Pt=Js,aa=Qs,Gr=Zs,Ce=ea,Xr=ta,Kr=na,zr=ra,Tn=ia,ua=oa,ca=sa,la="deployment.environment",pa="process.runtime.name",da="service.name",fa="telemetry.sdk.name",ha="telemetry.sdk.language",va="telemetry.sdk.version",_a=la,ga=pa,$r=da,Wt=fa,Yt=ha,Jt=va,ma="webjs",Ea=ma,de,kt=(de={},de[Wt]="opentelemetry",de[ga]="browser",de[Yt]=Ea,de[Jt]=Ws,de),ya=9,Ta=6,ba=Math.pow(10,Ta),st=Math.pow(10,ya);function $(e){var t=e/1e3,n=Math.trunc(t),r=Math.round(e%1e3*ba);return[n,r]}function bn(){var e=U.timeOrigin;if(typeof e!="number"){var t=U;e=t.timing&&t.timing.fetchStart}return e}function _e(e){var t=$(bn()),n=$(typeof e=="number"?e:U.now());return Wr(t,n)}function Ie(e){if(On(e))return e;if(typeof e=="number")return e<bn()?_e(e):$(e);if(e instanceof Date)return $(e.getTime());throw TypeError("Invalid input type")}function Oa(e,t){var n=t[0]-e[0],r=t[1]-e[1];return r<0&&(n-=1,r+=st),[n,r]}function W(e){return e[0]*st+e[1]}function On(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function Un(e){return On(e)||typeof e=="number"||e instanceof Date}function Wr(e,t){var n=[e[0]+t[0],e[1]+t[1]];return n[1]>=st&&(n[1]-=st,n[0]+=1),n}var ae;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(ae||(ae={}));var Sa=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yr=function(){function e(t){t===void 0&&(t={});var n;this._propagators=(n=t.propagators)!==null&&n!==void 0?n:[],this._fields=Array.from(new Set(this._propagators.map(function(r){return typeof r.fields=="function"?r.fields():[]}).reduce(function(r,i){return r.concat(i)},[])))}return e.prototype.inject=function(t,n,r){var i,o;try{for(var s=Sa(this._propagators),a=s.next();!a.done;a=s.next()){var u=a.value;try{u.inject(t,n,r)}catch(c){T.warn("Failed to inject with "+u.constructor.name+". Err: "+c.message)}}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},e.prototype.extract=function(t,n,r){return this._propagators.reduce(function(i,o){try{return o.extract(i,n,r)}catch(s){T.warn("Failed to inject with "+o.constructor.name+". Err: "+s.message)}return i},t)},e.prototype.fields=function(){return this._fields.slice()},e}(),Qt="[_0-9a-z-*/]",wa="[a-z]"+Qt+"{0,255}",Ra="[a-z0-9]"+Qt+"{0,240}@[a-z]"+Qt+"{0,13}",Na=new RegExp("^(?:"+wa+"|"+Ra+")$"),La=/^[ -~]{0,255}[!-~]$/,Aa=/,|=/;function Ca(e){return Na.test(e)}function Ia(e){return La.test(e)&&!Aa.test(e)}var Bn=32,Pa=512,jn=",",Fn="=",ka=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,n){var r=this._clone();return r._internalState.has(t)&&r._internalState.delete(t),r._internalState.set(t,n),r},e.prototype.unset=function(t){var n=this._clone();return n._internalState.delete(t),n},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(n,r){return n.push(r+Fn+t.get(r)),n},[]).join(jn)},e.prototype._parse=function(t){t.length>Pa||(this._internalState=t.split(jn).reverse().reduce(function(n,r){var i=r.trim(),o=i.indexOf(Fn);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,r.length);Ca(s)&&Ia(a)&&n.set(s,a)}return n},new Map),this._internalState.size>Bn&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Bn))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),Qe="traceparent",xt="tracestate",xa="00",Da="(?!ff)[\\da-f]{2}",Ma="(?![0]{32})[\\da-f]{32}",Ua="(?![0]{16})[\\da-f]{16}",Ba="[\\da-f]{2}",ja=new RegExp("^\\s?("+Da+")-("+Ma+")-("+Ua+")-("+Ba+")(-.*)?\\s?$");function Fa(e){var t=ja.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var Jr=function(){function e(){}return e.prototype.inject=function(t,n,r){var i=N.getSpanContext(t);if(!(!i||mn(t)||!_t(i))){var o=xa+"-"+i.traceId+"-"+i.spanId+"-0"+Number(i.traceFlags||Y.NONE).toString(16);r.set(n,Qe,o),i.traceState&&r.set(n,xt,i.traceState.serialize())}},e.prototype.extract=function(t,n,r){var i=r.get(n,Qe);if(!i)return t;var o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return t;var s=Fa(o);if(!s)return t;s.isRemote=!0;var a=r.get(n,xt);if(a){var u=Array.isArray(a)?a.join(","):a;s.traceState=new ka(typeof u=="string"?u:void 0)}return N.setSpanContext(t,s)},e.prototype.fields=function(){return[Qe,xt]},e}(),Va="[object Object]",Ha="[object Null]",qa="[object Undefined]",Ga=Function.prototype,Qr=Ga.toString,Xa=Qr.call(Object),Ka=za(Object.getPrototypeOf,Object),Zr=Object.prototype,ei=Zr.hasOwnProperty,ie=Symbol?Symbol.toStringTag:void 0,ti=Zr.toString;function za(e,t){return function(n){return e(t(n))}}function Vn(e){if(!$a(e)||Wa(e)!==Va)return!1;var t=Ka(e);if(t===null)return!0;var n=ei.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Qr.call(n)===Xa}function $a(e){return e!=null&&typeof e=="object"}function Wa(e){return e==null?e===void 0?qa:Ha:ie&&ie in Object(e)?Ya(e):Ja(e)}function Ya(e){var t=ei.call(e,ie),n=e[ie],r=!1;try{e[ie]=void 0,r=!0}catch{}var i=ti.call(e);return r&&(t?e[ie]=n:delete e[ie]),i}function Ja(e){return ti.call(e)}var Qa=20;function Za(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.shift(),r=new WeakMap;e.length>0;)n=ni(n,e.shift(),0,r);return n}function Dt(e){return at(e)?e.slice():e}function ni(e,t,n,r){n===void 0&&(n=0);var i;if(!(n>Qa)){if(n++,Ze(e)||Ze(t)||ri(t))i=Dt(t);else if(at(e)){if(i=e.slice(),at(t))for(var o=0,s=t.length;o<s;o++)i.push(Dt(t[o]));else if(Oe(t))for(var a=Object.keys(t),o=0,s=a.length;o<s;o++){var u=a[o];i[u]=Dt(t[u])}}else if(Oe(e))if(Oe(t)){if(!eu(e,t))return t;i=Object.assign({},e);for(var a=Object.keys(t),o=0,s=a.length;o<s;o++){var u=a[o],c=t[u];if(Ze(c))typeof c>"u"?delete i[u]:i[u]=c;else{var l=i[u],p=c;if(Hn(e,u,r)||Hn(t,u,r))delete i[u];else{if(Oe(l)&&Oe(p)){var d=r.get(l)||[],v=r.get(p)||[];d.push({obj:e,key:u}),v.push({obj:t,key:u}),r.set(l,d),r.set(p,v)}i[u]=ni(i[u],c,n,r)}}}}else i=t;return i}}function Hn(e,t,n){for(var r=n.get(e[t])||[],i=0,o=r.length;i<o;i++){var s=r[i];if(s.key===t&&s.obj===e)return!0}return!1}function at(e){return Array.isArray(e)}function ri(e){return typeof e=="function"}function Oe(e){return!Ze(e)&&!at(e)&&!ri(e)&&typeof e=="object"}function Ze(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function eu(e,t){return!(!Vn(e)||!Vn(t))}var tu=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function ii(e,t){return typeof t=="string"?e===t:!!e.match(t)}function oi(e,t){var n,r;if(!t)return!1;try{for(var i=tu(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(ii(e,s))return!0}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}var nu=function(){function e(){var t=this;this._promise=new Promise(function(n,r){t._resolve=n,t._reject=r})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(t){this._resolve(t)},e.prototype.reject=function(t){this._reject(t)},e}(),ru=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},iu=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},si=function(){function e(t,n){this._callback=t,this._that=n,this._isCalled=!1,this._deferred=new nu}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var t,n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,iu([this._that],ru(r),!1))).then(function(o){return n._deferred.resolve(o)},function(o){return n._deferred.reject(o)})}catch(o){this._deferred.reject(o)}}return this._deferred.promise},e}(),ou={getKeyPairs:Ur,serializeKeyPairs:Mr,parseKeyPairsIntoRecord:Rs,parsePairKeyValue:En},su=function(){function e(){}return e.prototype.emit=function(t){},e}(),au=function(){function e(){}return e.prototype.getLogger=function(t,n,r){return new su},e}(),qn=new au,uu=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof j.global=="object"?j.global:{},Ve=Symbol.for("io.opentelemetry.js.api.logs"),Se=uu;function cu(e,t,n){return function(r){return r===e?t:n}}var Gn=1,lu=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(t){return Se[Ve]?this.getLoggerProvider():(Se[Ve]=cu(Gn,t,qn),t)},e.prototype.getLoggerProvider=function(){var t,n;return(n=(t=Se[Ve])===null||t===void 0?void 0:t.call(Se,Gn))!==null&&n!==void 0?n:qn},e.prototype.getLogger=function(t,n,r){return this.getLoggerProvider().getLogger(t,n,r)},e.prototype.disable=function(){delete Se[Ve]},e}(),ai=lu.getInstance();function pu(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var s=e[i];t&&s.setTracerProvider(t),n&&s.setMeterProvider(n),r&&s.setLoggerProvider&&s.setLoggerProvider(r),s.getConfig().enabled||s.enable()}}function du(e){e.forEach(function(t){return t.disable()})}function fu(e){var t,n,r=e.tracerProvider||N.getTracerProvider(),i=e.meterProvider||kr.getMeterProvider(),o=e.loggerProvider||ai.getLoggerProvider(),s=(n=(t=e.instrumentations)===null||t===void 0?void 0:t.flat())!==null&&n!==void 0?n:[];return pu(s,r,i,o),function(){du(s)}}function Zt(e){return typeof e=="function"}var x=console.error.bind(console);function we(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function je(e){e&&e.logger&&(Zt(e.logger)?x=e.logger:x("new logger isn't a function, not replacing"))}function ui(e,t,n){if(!e||!e[t]){x("no original function "+t+" to wrap");return}if(!n){x("no wrapper function"),x(new Error().stack);return}if(!Zt(e[t])||!Zt(n)){x("original object and wrapper must be functions");return}var r=e[t],i=n(r,t);return we(i,"__original",r),we(i,"__unwrap",function(){e[t]===i&&we(e,t,r)}),we(i,"__wrapped",!0),we(e,t,i),i}function hu(e,t,n){if(e)Array.isArray(e)||(e=[e]);else{x("must provide one or more modules to patch"),x(new Error().stack);return}if(!(t&&Array.isArray(t))){x("must provide one or more functions to wrap on modules");return}e.forEach(function(r){t.forEach(function(i){ui(r,i,n)})})}function ci(e,t){if(!e||!e[t]){x("no function to unwrap."),x(new Error().stack);return}if(!e[t].__unwrap)x("no original to unwrap to -- has "+t+" already been unwrapped?");else return e[t].__unwrap()}function vu(e,t){if(e)Array.isArray(e)||(e=[e]);else{x("must provide one or more modules to patch"),x(new Error().stack);return}if(!(t&&Array.isArray(t))){x("must provide one or more functions to unwrap on modules");return}e.forEach(function(n){t.forEach(function(r){ci(n,r)})})}je.wrap=ui;je.massWrap=hu;je.unwrap=ci;je.massUnwrap=vu;var He=je,en=function(){return en=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},en.apply(this,arguments)},_u=function(){function e(t,n,r){this.instrumentationName=t,this.instrumentationVersion=n,this._config={},this._wrap=He.wrap,this._unwrap=He.unwrap,this._massWrap=He.massWrap,this._massUnwrap=He.massUnwrap,this.setConfig(r),this._diag=T.createComponentLogger({namespace:t}),this._tracer=N.getTracer(t,n),this._meter=kr.getMeter(t,n),this._logger=ai.getLogger(t,n),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(t){this._logger=t.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var t,n=(t=this.init())!==null&&t!==void 0?t:[];return Array.isArray(n)?n:[n]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(t){this._config=en({enabled:!0},t)},e.prototype.setTracerProvider=function(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(t,n,r,i){if(t)try{t(r,i)}catch(o){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:n},o)}},e}(),gu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=function(e){gu(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o._config.enabled&&o.enable(),o}return t}(_u);function ut(e,t,n){var r,i;try{i=e()}catch(o){r=o}finally{if(t(r,i),r&&!n)throw r;return i}}function ue(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var mu="exception",Eu=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xn=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},yu=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Tu=function(){function e(t,n,r,i,o,s,a,u,c,l){a===void 0&&(a=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:zt.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=i,this.parentSpanId=s,this.kind=o,this.links=a;var p=Date.now();this._performanceStartTime=U.now(),this._performanceOffset=p-(this._performanceStartTime+bn()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??p),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,l!=null&&this.setAttributes(l),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return n==null||this._isSpanEnded()?this:t.length===0?(T.warn("Invalid attribute key: "+t),this):Fr(n)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(n),this):(T.warn("Invalid attribute value set for key: "+t),this)},e.prototype.setAttributes=function(t){var n,r;try{for(var i=Eu(Object.entries(t)),o=i.next();!o.done;o=i.next()){var s=Xn(o.value,2),a=s[0],u=s[1];this.setAttribute(a,u)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},e.prototype.addEvent=function(t,n,r){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return T.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&T.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Un(n)&&(Un(r)||(r=n),n=void 0);var i=We(n);return this.events.push({name:t,attributes:i,time:this._getTime(r),droppedAttributesCount:0}),this},e.prototype.addLink=function(t){return this.links.push(t),this},e.prototype.addLinks=function(t){var n;return(n=this.links).push.apply(n,yu([],Xn(t),!1)),this},e.prototype.setStatus=function(t){return this._isSpanEnded()?this:(this.status=t,this)},e.prototype.updateName=function(t){return this._isSpanEnded()?this:(this.name=t,this)},e.prototype.end=function(t){if(this._isSpanEnded()){T.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(t),this._duration=Oa(this.startTime,this.endTime),this._duration[0]<0&&(T.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&T.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},e.prototype._getTime=function(t){if(typeof t=="number"&&t<U.now())return _e(t+this._performanceOffset);if(typeof t=="number")return $(t);if(t instanceof Date)return $(t.getTime());if(On(t))return t;if(this._startTimeProvided)return $(Date.now());var n=U.now()-this._performanceStartTime;return Wr(this.startTime,$(n))},e.prototype.isRecording=function(){return this._ended===!1},e.prototype.recordException=function(t,n){var r={};typeof t=="string"?r[Pt]=t:t&&(t.code?r[It]=t.code.toString():t.name&&(r[It]=t.name),t.message&&(r[Pt]=t.message),t.stack&&(r[aa]=t.stack)),r[It]||r[Pt]?this.addEvent(mu,r,n):T.warn("Failed to record an exception "+t)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&T.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(t,n){return t.length<=n?t:t.substr(0,n)},e.prototype._truncateToSize=function(t){var n=this,r=this._attributeValueLengthLimit;return r<=0?(T.warn("Attribute value limit must be positive, got "+r),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(function(i){return typeof i=="string"?n._truncateToLimitUtil(i,r):i}):t},e}(),ge;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(ge||(ge={}));var ct=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:ge.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),ve=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:ge.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),Mt=function(){function e(t){var n,r,i,o;this._root=t.root,this._root||(ot(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new ve),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new ve,this._remoteParentNotSampled=(r=t.remoteParentNotSampled)!==null&&r!==void 0?r:new ct,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new ve,this._localParentNotSampled=(o=t.localParentNotSampled)!==null&&o!==void 0?o:new ct}return e.prototype.shouldSample=function(t,n,r,i,o,s){var a=N.getSpanContext(t);return!a||!_t(a)?this._root.shouldSample(t,n,r,i,o,s):a.isRemote?a.traceFlags&Y.SAMPLED?this._remoteParentSampled.shouldSample(t,n,r,i,o,s):this._remoteParentNotSampled.shouldSample(t,n,r,i,o,s):a.traceFlags&Y.SAMPLED?this._localParentSampled.shouldSample(t,n,r,i,o,s):this._localParentNotSampled.shouldSample(t,n,r,i,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),Kn=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,n){return{decision:Ir(n)&&this._accumulate(n)<this._upperBound?ge.RECORD_AND_SAMPLED:ge.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var n=0,r=0;r<t.length/8;r++){var i=r*8,o=parseInt(t.slice(i,i+8),16);n=(n^o)>>>0}return n},e}(),bu=J(),Ou=H.AlwaysOn,fe=1;function li(){var e=J();return{sampler:pi(bu),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:e.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:e.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:e.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:e.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function pi(e){switch(e===void 0&&(e=J()),e.OTEL_TRACES_SAMPLER){case H.AlwaysOn:return new ve;case H.AlwaysOff:return new ct;case H.ParentBasedAlwaysOn:return new Mt({root:new ve});case H.ParentBasedAlwaysOff:return new Mt({root:new ct});case H.TraceIdRatio:return new Kn(zn(e));case H.ParentBasedTraceIdRatio:return new Mt({root:new Kn(zn(e))});default:return T.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+Ou+'".'),new ve}}function zn(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return T.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+fe+"."),fe;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(T.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+fe+"."),fe):t<0||t>1?(T.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+fe+"."),fe):t}function Su(e){var t={sampler:pi()},n=li(),r=Object.assign({},n,t,e);return r.generalLimits=Object.assign({},n.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,e.spanLimits||{}),r}function wu(e){var t,n,r,i,o,s,a,u,c,l,p,d,v=Object.assign({},e.spanLimits),_=$s();return v.attributeCountLimit=(s=(o=(i=(n=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&n!==void 0?n:(r=e.generalLimits)===null||r===void 0?void 0:r.attributeCountLimit)!==null&&i!==void 0?i:_.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:_.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:Je,v.attributeValueLengthLimit=(d=(p=(l=(u=(a=e.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(c=e.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&l!==void 0?l:_.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:_.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:Ye,Object.assign({},e,{spanLimits:v})}var Ru=function(){function e(t,n){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=J();this._maxExportBatchSize=typeof n?.maxExportBatchSize=="number"?n.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof n?.maxQueueSize=="number"?n.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof n?.scheduledDelayMillis=="number"?n.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof n?.exportTimeoutMillis=="number"?n.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new si(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(T.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&Y.SAMPLED&&this._addToBuffer(t)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},e.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&T.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(T.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},e.prototype._flushAll=function(){var t=this;return new Promise(function(n,r){for(var i=[],o=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize),s=0,a=o;s<a;s++)i.push(t._flushOneBatch());Promise.all(i).then(function(){n()}).catch(r)})},e.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(n,r){var i=setTimeout(function(){r(new Error("Timeout"))},t._exportTimeoutMillis);S.with(ys(S.active()),function(){var o;t._finishedSpans.length<=t._maxExportBatchSize?(o=t._finishedSpans,t._finishedSpans=[]):o=t._finishedSpans.splice(0,t._maxExportBatchSize);for(var s=function(){return t._exporter.export(o,function(p){var d;clearTimeout(i),p.code===ae.SUCCESS?n():r((d=p.error)!==null&&d!==void 0?d:new Error("BatchSpanProcessor: span export failed"))})},a=null,u=0,c=o.length;u<c;u++){var l=o[u];l.resource.asyncAttributesPending&&l.resource.waitForAsyncAttributes&&(a!=null||(a=[]),a.push(l.resource.waitForAsyncAttributes()))}a===null?s():Promise.all(a).then(s,function(p){ot(p),r(p)})})})},e.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var n=function(){t._isExporting=!0,t._flushOneBatch().finally(function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(r){t._isExporting=!1,ot(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return n();this._timer===void 0&&(this._timer=setTimeout(function(){return n()},this._scheduledDelayMillis))}},e.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},e}(),Nu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),di=function(e){Nu(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.onInit(r),i}return t.prototype.onInit=function(n){var r=this;n?.disableAutoFlushOnDocumentHide!==!0&&typeof document<"u"&&(this._visibilityChangeListener=function(){document.visibilityState==="hidden"&&r.forceFlush()},this._pageHideListener=function(){r.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(Ru),Lu=8,Au=16,Cu=function(){function e(){this.generateTraceId=$n(Au),this.generateSpanId=$n(Lu)}return e}(),qe=Array(32);function $n(e){return function(){for(var t=0;t<e*2;t++)qe[t]=Math.floor(Math.random()*16)+48,qe[t]>=58&&(qe[t]+=39);return String.fromCharCode.apply(null,qe.slice(0,e*2))}}var Iu=function(){function e(t,n,r){this._tracerProvider=r;var i=Su(n);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=n.idGenerator||new Cu,this.resource=r.resource,this.instrumentationLibrary=t}return e.prototype.startSpan=function(t,n,r){var i,o,s;n===void 0&&(n={}),r===void 0&&(r=S.active()),n.root&&(r=N.deleteSpan(r));var a=N.getSpan(r);if(mn(r)){T.debug("Instrumentation suppressed, returning Noop Span");var u=N.wrapSpanContext(Ar);return u}var c=a?.spanContext(),l=this._idGenerator.generateSpanId(),p,d,v;!c||!N.isSpanContextValid(c)?p=this._idGenerator.generateTraceId():(p=c.traceId,d=c.traceState,v=c.spanId);var _=(i=n.kind)!==null&&i!==void 0?i:De.INTERNAL,f=((o=n.links)!==null&&o!==void 0?o:[]).map(function(Q){return{context:Q.context,attributes:We(Q.attributes)}}),g=We(n.attributes),m=this._sampler.shouldSample(r,p,t,_,g,f);d=(s=m.traceState)!==null&&s!==void 0?s:d;var b=m.decision===rt.RECORD_AND_SAMPLED?Y.SAMPLED:Y.NONE,P={traceId:p,spanId:l,traceFlags:b,traceState:d};if(m.decision===rt.NOT_RECORD){T.debug("Recording is off, propagating context in a non-recording span");var u=N.wrapSpanContext(P);return u}var F=We(Object.assign(g,m.attributes)),V=new Tu(this,r,t,P,_,v,f,n.startTime,void 0,F);return V},e.prototype.startActiveSpan=function(t,n,r,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,s=r,a=i);var u=s??S.active(),c=this.startSpan(t,o,u),l=N.setSpan(u,c);return S.with(l,a,void 0,c)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}();function Pu(){return"unknown_service"}var Z=function(){return Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Z.apply(this,arguments)},ku=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(p){s(p)}}function u(l){try{c(r.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,[])).next())})},xu=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Du=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},tn=function(){function e(t,n){var r=this,i;this._attributes=t,this.asyncAttributesPending=n!=null,this._syncAttributes=(i=this._attributes)!==null&&i!==void 0?i:{},this._asyncAttributesPromise=n?.then(function(o){return r._attributes=Object.assign({},r._attributes,o),r.asyncAttributesPending=!1,o},function(o){return T.debug("a resource's async attributes promise rejected: %s",o),r.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e((t={},t[$r]=Pu(),t[Yt]=kt[Yt],t[Wt]=kt[Wt],t[Jt]=kt[Jt],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&T.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return ku(this,void 0,void 0,function(){return xu(this,function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.merge=function(t){var n=this,r;if(!t)return this;var i=Z(Z({},this._syncAttributes),(r=t._syncAttributes)!==null&&r!==void 0?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(i);var o=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(s){var a,u=Du(s,2),c=u[0],l=u[1];return Z(Z(Z(Z({},n._syncAttributes),c),(a=t._syncAttributes)!==null&&a!==void 0?a:t.attributes),l)});return new e(i,o)},e.EMPTY=new e({}),e}(),Ge=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Mu=function(){function e(t){this._spanProcessors=t}return e.prototype.forceFlush=function(){var t,n,r=[];try{for(var i=Ge(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;r.push(s.forceFlush())}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return new Promise(function(a){Promise.all(r).then(function(){a()}).catch(function(u){ot(u||new Error("MultiSpanProcessor: forceFlush failed")),a()})})},e.prototype.onStart=function(t,n){var r,i;try{for(var o=Ge(this._spanProcessors),s=o.next();!s.done;s=o.next()){var a=s.value;a.onStart(t,n)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(t){var n,r;try{for(var i=Ge(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;s.onEnd(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.shutdown=function(){var t,n,r=[];try{for(var i=Ge(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;r.push(s.shutdown())}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return new Promise(function(a,u){Promise.all(r).then(function(){a()},u)})},e}(),Uu=function(){function e(){}return e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}(),oe;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(oe||(oe={}));var Bu=function(){function e(t){t===void 0&&(t={});var n;this._registeredSpanProcessors=[],this._tracers=new Map;var r=Za({},li(),wu(t));this.resource=(n=r.resource)!==null&&n!==void 0?n:tn.empty(),this.resource=tn.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var i=this._buildExporterFromEnv();if(i!==void 0){var o=new di(i);this.activeSpanProcessor=o}else this.activeSpanProcessor=new Uu}return e.prototype.getTracer=function(t,n,r){var i=t+"@"+(n||"")+":"+(r?.schemaUrl||"");return this._tracers.has(i)||this._tracers.set(i,new Iu({name:t,version:n,schemaUrl:r?.schemaUrl},this._config,this)),this._tracers.get(i)},e.prototype.addSpanProcessor=function(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(n){return T.error("Error while trying to shutdown current span processor",n)}),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new Mu(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(t){t===void 0&&(t={}),N.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&S.setGlobalContextManager(t.contextManager),t.propagator&&M.setGlobalPropagator(t.propagator)},e.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map(function(r){return new Promise(function(i){var o,s=setTimeout(function(){i(new Error("Span processor did not completed within timeout period of "+t+" ms")),o=oe.timeout},t);r.forceFlush().then(function(){clearTimeout(s),o!==oe.timeout&&(o=oe.resolved,i(o))}).catch(function(a){clearTimeout(s),o=oe.error,i(a)})})});return new Promise(function(r,i){Promise.all(n).then(function(o){var s=o.filter(function(a){return a!==oe.resolved});s.length>0?i(s):r()}).catch(function(o){return i([o])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(t){var n;return(n=this.constructor._registeredPropagators.get(t))===null||n===void 0?void 0:n()},e.prototype._getSpanExporter=function(t){var n;return(n=this.constructor._registeredExporters.get(t))===null||n===void 0?void 0:n()},e.prototype._buildPropagatorFromEnv=function(){var t=this,n=Array.from(new Set(J().OTEL_PROPAGATORS)),r=n.map(function(o){var s=t._getPropagator(o);return s||T.warn('Propagator "'+o+'" requested through environment variable is unavailable.'),s}),i=r.reduce(function(o,s){return s&&o.push(s),o},[]);if(i.length!==0)return n.length===1?i[0]:new Yr({propagators:i})},e.prototype._buildExporterFromEnv=function(){var t=J().OTEL_TRACES_EXPORTER;if(!(t==="none"||t==="")){var n=this._getSpanExporter(t);return n||T.error('Exporter "'+t+'" requested through environment variable is unavailable.'),n}},e._registeredPropagators=new Map([["tracecontext",function(){return new Jr}],["baggage",function(){return new Br}]]),e._registeredExporters=new Map,e}(),ju=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Fu=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},fi=function(){function e(){this._enabled=!1,this._currentContext=re}return e.prototype._bindFunction=function(t,n){t===void 0&&(t=re);var r=this,i=function(){for(var o=this,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return r.with(t,function(){return n.apply(o,s)})};return Object.defineProperty(i,"length",{enumerable:!1,configurable:!0,writable:!1,value:n.length}),i},e.prototype.active=function(){return this._currentContext},e.prototype.bind=function(t,n){return t===void 0&&(t=this.active()),typeof n=="function"?this._bindFunction(t,n):n},e.prototype.disable=function(){return this._currentContext=re,this._enabled=!1,this},e.prototype.enable=function(){return this._enabled?this:(this._enabled=!0,this._currentContext=re,this)},e.prototype.with=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=this._currentContext;this._currentContext=t||re;try{return n.call.apply(n,Fu([r],ju(i),!1))}finally{this._currentContext=s}},e}(),Vu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hu=function(e){Vu(t,e);function t(n){n===void 0&&(n={});var r=e.call(this,n)||this;if(n.contextManager)throw"contextManager should be defined in register method not in constructor";if(n.propagator)throw"propagator should be defined in register method not in constructor";return r}return t.prototype.register=function(n){n===void 0&&(n={}),n.contextManager===void 0&&(n.contextManager=new fi),n.contextManager&&n.contextManager.enable(),e.prototype.register.call(this,n)},t}(Bu),y;(function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"})(y||(y={}));var Ut;function qu(){return Ut||(Ut=document.createElement("a")),Ut}function ne(e,t){return t in e}function C(e,t,n,r){var i=void 0,o=void 0;ne(n,t)&&typeof n[t]=="number"&&(i=n[t]);var s=y.FETCH_START;if(ne(n,s)&&typeof n[s]=="number"&&(o=n[s]),i!==void 0&&o!==void 0&&i>=o)return e.addEvent(t,i),e}function me(e,t){C(e,y.FETCH_START,t),C(e,y.DOMAIN_LOOKUP_START,t),C(e,y.DOMAIN_LOOKUP_END,t),C(e,y.CONNECT_START,t),ne(t,"name")&&t.name.startsWith("https:")&&C(e,y.SECURE_CONNECTION_START,t),C(e,y.CONNECT_END,t),C(e,y.REQUEST_START,t),C(e,y.RESPONSE_START,t),C(e,y.RESPONSE_END,t);var n=t[y.ENCODED_BODY_SIZE];n!==void 0&&e.setAttribute(ua,n);var r=t[y.DECODED_BODY_SIZE];r!==void 0&&n!==r&&e.setAttribute(ca,r)}function Gu(e){return e.slice().sort(function(t,n){var r=t[y.FETCH_START],i=n[y.FETCH_START];return r>i?1:r<i?-1:0})}function hi(){return typeof location<"u"?location.origin:void 0}function vi(e,t,n,r,i,o){i===void 0&&(i=new WeakSet);var s=z(e);e=s.toString();var a=Ku(e,t,n,r,i,o);if(a.length===0)return{mainRequest:void 0};if(a.length===1)return{mainRequest:a[0]};var u=Gu(a);if(s.origin!==hi()&&u.length>1){var c=u[0],l=Xu(u,c[y.RESPONSE_END],n),p=c[y.RESPONSE_END],d=l[y.FETCH_START];return d<p&&(l=c,c=void 0),{corsPreFlightRequest:c,mainRequest:l}}else return{mainRequest:a[0]}}function Xu(e,t,n){for(var r=W(n),i=W(Ie(t)),o=e[1],s,a=e.length,u=1;u<a;u++){var c=e[u],l=W(Ie(c[y.FETCH_START])),p=W(Ie(c[y.RESPONSE_END])),d=r-p;l>=i&&(!s||d<s)&&(s=d,o=c)}return o}function Ku(e,t,n,r,i,o){var s=W(t),a=W(n),u=r.filter(function(c){var l=W(Ie(c[y.FETCH_START])),p=W(Ie(c[y.RESPONSE_END]));return c.initiatorType.toLowerCase()===(o||"xmlhttprequest")&&c.name===e&&l>=s&&p<=a});return u.length>0&&(u=u.filter(function(c){return!i.has(c)})),u}function z(e){if(typeof URL=="function")return new URL(e,typeof document<"u"?document.baseURI:typeof location<"u"?location.href:void 0);var t=qu();return t.href=e,t}function _i(e,t){if(e.nodeType===Node.DOCUMENT_NODE)return"/";var n=$u(e,t);if(t&&n.indexOf("@id")>0)return n;var r="";return e.parentNode&&(r+=_i(e.parentNode,!1)),r+=n,r}function zu(e){if(!e.parentNode)return 0;var t=[e.nodeType];e.nodeType===Node.CDATA_SECTION_NODE&&t.push(Node.TEXT_NODE);var n=Array.from(e.parentNode.childNodes);return n=n.filter(function(r){var i=r.localName;return t.indexOf(r.nodeType)>=0&&i===e.localName}),n.length>=1?n.indexOf(e)+1:0}function $u(e,t){var n=e.nodeType,r=zu(e),i="";if(n===Node.ELEMENT_NODE){var o=e.getAttribute("id");if(t&&o)return'//*[@id="'+o+'"]';i=e.localName}else if(n===Node.TEXT_NODE||n===Node.CDATA_SECTION_NODE)i="text()";else if(n===Node.COMMENT_NODE)i="comment()";else return"";return i&&r>1?"/"+i+"["+r+"]":"/"+i}function gi(e,t){var n=t||[];(typeof n=="string"||n instanceof RegExp)&&(n=[n]);var r=z(e);return r.origin===hi()?!0:n.some(function(i){return ii(e,i)})}var Pe;(function(e){e.DOCUMENT_LOAD="documentLoad",e.DOCUMENT_FETCH="documentFetch",e.RESOURCE_FETCH="resourceFetch"})(Pe||(Pe={}));var Wu="0.40.0",Yu="@opentelemetry/instrumentation-document-load",lt;(function(e){e.FIRST_PAINT="firstPaint",e.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"})(lt||(lt={}));var Ju=function(){var e,t,n={},r=(t=(e=U).getEntriesByType)===null||t===void 0?void 0:t.call(e,"navigation")[0];if(r){var i=Object.values(y);i.forEach(function(a){if(ne(r,a)){var u=r[a];typeof u=="number"&&(n[a]=u)}})}else{var o=U,s=o.timing;if(s){var i=Object.values(y);i.forEach(function(u){if(ne(s,u)){var c=s[u];typeof c=="number"&&(n[u]=c)}})}}return n},Wn={"first-paint":lt.FIRST_PAINT,"first-contentful-paint":lt.FIRST_CONTENTFUL_PAINT},Qu=function(e){var t,n,r=(n=(t=U).getEntriesByType)===null||n===void 0?void 0:n.call(t,"paint");r&&r.forEach(function(i){var o=i.name,s=i.startTime;ne(Wn,o)&&e.addEvent(Wn[o],s)})},Zu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ec=function(e){Zu(t,e);function t(n){n===void 0&&(n={});var r=e.call(this,Yu,Wu,n)||this;return r.component="document-load",r.version="1",r.moduleName=r.component,r}return t.prototype.init=function(){},t.prototype._onDocumentLoaded=function(){var n=this;window.setTimeout(function(){n._collectPerformance()})},t.prototype._addResourcesSpans=function(n){var r=this,i,o,s=(o=(i=U).getEntriesByType)===null||o===void 0?void 0:o.call(i,"resource");s&&s.forEach(function(a){r._initResourceSpan(a,n)})},t.prototype._collectPerformance=function(){var n=this,r=Array.from(document.getElementsByTagName("meta")).find(function(s){return s.getAttribute("name")===Qe}),i=Ju(),o=r&&r.content||"";S.with(M.extract(re,{traceparent:o}),function(){var s,a=n._startSpan(Pe.DOCUMENT_LOAD,y.FETCH_START,i);a&&(S.with(N.setSpan(S.active(),a),function(){var u=n._startSpan(Pe.DOCUMENT_FETCH,y.FETCH_START,i);u&&(u.setAttribute(Ce,location.href),S.with(N.setSpan(S.active(),u),function(){var c;n.getConfig().ignoreNetworkEvents||me(u,i),n._addCustomAttributesOnSpan(u,(c=n.getConfig().applyCustomAttributesOnSpan)===null||c===void 0?void 0:c.documentFetch),n._endSpan(u,y.RESPONSE_END,i)}))}),a.setAttribute(Ce,location.href),a.setAttribute(Tn,navigator.userAgent),n._addResourcesSpans(a),n.getConfig().ignoreNetworkEvents||(C(a,y.FETCH_START,i),C(a,y.UNLOAD_EVENT_START,i),C(a,y.UNLOAD_EVENT_END,i),C(a,y.DOM_INTERACTIVE,i),C(a,y.DOM_CONTENT_LOADED_EVENT_START,i),C(a,y.DOM_CONTENT_LOADED_EVENT_END,i),C(a,y.DOM_COMPLETE,i),C(a,y.LOAD_EVENT_START,i),C(a,y.LOAD_EVENT_END,i)),n.getConfig().ignorePerformancePaintEvents||Qu(a),n._addCustomAttributesOnSpan(a,(s=n.getConfig().applyCustomAttributesOnSpan)===null||s===void 0?void 0:s.documentLoad),n._endSpan(a,y.LOAD_EVENT_END,i))})},t.prototype._endSpan=function(n,r,i){n&&(ne(i,r)?n.end(i[r]):n.end())},t.prototype._initResourceSpan=function(n,r){var i,o=this._startSpan(Pe.RESOURCE_FETCH,y.FETCH_START,n,r);o&&(o.setAttribute(Ce,n.name),this.getConfig().ignoreNetworkEvents||me(o,n),this._addCustomAttributesOnResourceSpan(o,n,(i=this.getConfig().applyCustomAttributesOnSpan)===null||i===void 0?void 0:i.resourceFetch),this._endSpan(o,y.RESPONSE_END,n))},t.prototype._startSpan=function(n,r,i,o){if(ne(i,r)&&typeof i[r]=="number"){var s=this.tracer.startSpan(n,{startTime:i[r]},o?N.setSpan(S.active(),o):void 0);return s}},t.prototype._waitForPageLoad=function(){window.document.readyState==="complete"?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))},t.prototype._addCustomAttributesOnSpan=function(n,r){var i=this;r&&ut(function(){return r(n)},function(o){o&&i._diag.error("addCustomAttributesOnSpan",o)},!0)},t.prototype._addCustomAttributesOnResourceSpan=function(n,r,i){var o=this;i&&ut(function(){return i(n,r)},function(s){s&&o._diag.error("addCustomAttributesOnResourceSpan",s)},!0)},t.prototype.enable=function(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()},t.prototype.disable=function(){window.removeEventListener("load",this._onDocumentLoaded)},t}(gt),pt;(function(e){e.COMPONENT="component",e.HTTP_ERROR_NAME="http.error_name",e.HTTP_STATUS_TEXT="http.status_text"})(pt||(pt={}));var Yn="0.53.0",tc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bt,nc=300,Jn=typeof j.process=="object"&&((Bt=j.process.release)===null||Bt===void 0?void 0:Bt.name)==="node",rc=function(e){tc(t,e);function t(n){n===void 0&&(n={});var r=e.call(this,"@opentelemetry/instrumentation-fetch",Yn,n)||this;return r.component="fetch",r.version=Yn,r.moduleName=r.component,r._usedResources=new WeakSet,r._tasksCount=0,r}return t.prototype.init=function(){},t.prototype._addChildSpan=function(n,r){var i=this.tracer.startSpan("CORS Preflight",{startTime:r[y.FETCH_START]},N.setSpan(S.active(),n));this.getConfig().ignoreNetworkEvents||me(i,r),i.end(r[y.RESPONSE_END])},t.prototype._addFinalSpanAttributes=function(n,r){var i=z(r.url);n.setAttribute(zr,r.status),r.statusText!=null&&n.setAttribute(pt.HTTP_STATUS_TEXT,r.statusText),n.setAttribute(Xr,i.host),n.setAttribute(Kr,i.protocol.replace(":","")),typeof navigator<"u"&&n.setAttribute(Tn,navigator.userAgent)},t.prototype._addHeaders=function(n,r){if(!gi(r,this.getConfig().propagateTraceHeaderCorsUrls)){var i={};M.inject(S.active(),i),Object.keys(i).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(n instanceof Request)M.inject(S.active(),n.headers,{set:function(o,s,a){return o.set(s,typeof a=="string"?a:String(a))}});else if(n.headers instanceof Headers)M.inject(S.active(),n.headers,{set:function(o,s,a){return o.set(s,typeof a=="string"?a:String(a))}});else if(n.headers instanceof Map)M.inject(S.active(),n.headers,{set:function(o,s,a){return o.set(s,typeof a=="string"?a:String(a))}});else{var i={};M.inject(S.active(),i),n.headers=Object.assign({},i,n.headers||{})}},t.prototype._clearResources=function(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},t.prototype._createSpan=function(n,r){var i;if(r===void 0&&(r={}),oi(n,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var o=(r.method||"GET").toUpperCase(),s="HTTP "+o;return this.tracer.startSpan(s,{kind:De.CLIENT,attributes:(i={},i[pt.COMPONENT]=this.moduleName,i[Gr]=o,i[Ce]=n,i)})},t.prototype._findResourceAndAddNetworkEvents=function(n,r,i){var o=r.entries;if(!o.length){if(!performance.getEntriesByType)return;o=performance.getEntriesByType("resource")}var s=vi(r.spanUrl,r.startTime,i,o,this._usedResources,"fetch");if(s.mainRequest){var a=s.mainRequest;this._markResourceAsUsed(a);var u=s.corsPreFlightRequest;u&&(this._addChildSpan(n,u),this._markResourceAsUsed(u)),this.getConfig().ignoreNetworkEvents||me(n,a)}},t.prototype._markResourceAsUsed=function(n){this._usedResources.add(n)},t.prototype._endSpan=function(n,r,i){var o=this,s=$(Date.now()),a=_e();this._addFinalSpanAttributes(n,i),setTimeout(function(){var u;(u=r.observer)===null||u===void 0||u.disconnect(),o._findResourceAndAddNetworkEvents(n,r,a),o._tasksCount--,o._clearResources(),n.end(s)},nc)},t.prototype._patchConstructor=function(){var n=this;return function(r){var i=n;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=this,u=z(o[0]instanceof Request?o[0].url:String(o[0])).href,c=o[0]instanceof Request?o[0]:o[1]||{},l=i._createSpan(u,c);if(!l)return r.apply(this,o);var p=i._prepareSpanData(u);function d(g,m){i._applyAttributesAfterFetch(g,c,m),i._endSpan(g,p,{status:m.status||0,statusText:m.message,url:u})}function v(g,m){i._applyAttributesAfterFetch(g,c,m),m.status>=200&&m.status<400?i._endSpan(g,p,m):i._endSpan(g,p,{status:m.status,statusText:m.statusText,url:u})}function _(g,m,b){try{var P=b.clone(),F=b.clone(),V=P.body;if(V){var Q=V.getReader(),Fe=function(){Q.read().then(function(Te){var Gi=Te.done;Gi?v(g,F):Fe()},function(Te){d(g,Te)})};Fe()}else v(g,b)}finally{m(b)}}function f(g,m,b){try{d(g,b)}finally{m(b)}}return new Promise(function(g,m){return S.with(N.setSpan(S.active(),l),function(){return i._addHeaders(c,u),i._tasksCount++,r.apply(a,c instanceof Request?[c]:[u,c]).then(_.bind(a,l,g),f.bind(a,l,m))})})}}},t.prototype._applyAttributesAfterFetch=function(n,r,i){var o=this,s=this.getConfig().applyCustomAttributesOnSpan;s&&ut(function(){return s(n,r,i)},function(a){a&&o._diag.error("applyCustomAttributesOnSpan",a)},!0)},t.prototype._prepareSpanData=function(n){var r=_e(),i=[];if(typeof PerformanceObserver!="function")return{entries:i,startTime:r,spanUrl:n};var o=new PerformanceObserver(function(s){var a=s.getEntries();a.forEach(function(u){u.initiatorType==="fetch"&&u.name===n&&i.push(u)})});return o.observe({entryTypes:["resource"]}),{entries:i,observer:o,startTime:r,spanUrl:n}},t.prototype.enable=function(){if(Jn){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");return}ue(fetch)&&(this._unwrap(Ae,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(Ae,"fetch",this._patchConstructor())},t.prototype.disable=function(){Jn||(this._unwrap(Ae,"fetch"),this._usedResources=new WeakSet)},t}(gt),K;(function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"})(K||(K={}));var Qn="0.53.0",nn;(function(e){e.HTTP_STATUS_TEXT="http.status_text"})(nn||(nn={}));var ic=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oc=300,sc=function(e){ic(t,e);function t(n){n===void 0&&(n={});var r=e.call(this,"@opentelemetry/instrumentation-xml-http-request",Qn,n)||this;return r.component="xml-http-request",r.version=Qn,r.moduleName=r.component,r._tasksCount=0,r._xhrMem=new WeakMap,r._usedResources=new WeakSet,r}return t.prototype.init=function(){},t.prototype._addHeaders=function(n,r){var i=z(r).href;if(!gi(i,this.getConfig().propagateTraceHeaderCorsUrls)){var o={};M.inject(S.active(),o),Object.keys(o).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}var s={};M.inject(S.active(),s),Object.keys(s).forEach(function(a){n.setRequestHeader(a,String(s[a]))})},t.prototype._addChildSpan=function(n,r){var i=this;S.with(N.setSpan(S.active(),n),function(){var o=i.tracer.startSpan("CORS Preflight",{startTime:r[y.FETCH_START]});i.getConfig().ignoreNetworkEvents||me(o,r),o.end(r[y.RESPONSE_END])})},t.prototype._addFinalSpanAttributes=function(n,r,i){if(typeof i=="string"){var o=z(i);r.status!==void 0&&n.setAttribute(zr,r.status),r.statusText!==void 0&&n.setAttribute(nn.HTTP_STATUS_TEXT,r.statusText),n.setAttribute(Xr,o.host),n.setAttribute(Kr,o.protocol.replace(":","")),n.setAttribute(Tn,navigator.userAgent)}},t.prototype._applyAttributesAfterXHR=function(n,r){var i=this,o=this.getConfig().applyCustomAttributesOnSpan;typeof o=="function"&&ut(function(){return o(n,r)},function(s){s&&i._diag.error("applyCustomAttributesOnSpan",s)},!0)},t.prototype._addResourceObserver=function(n,r){var i=this._xhrMem.get(n);!i||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(i.createdResources={observer:new PerformanceObserver(function(o){var s=o.getEntries(),a=z(r);s.forEach(function(u){u.initiatorType==="xmlhttprequest"&&u.name===a.href&&i.createdResources&&i.createdResources.entries.push(u)})}),entries:[]},i.createdResources.observer.observe({entryTypes:["resource"]}))},t.prototype._clearResources=function(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(U.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},t.prototype._findResourceAndAddNetworkEvents=function(n,r,i,o,s){if(!(!i||!o||!s||!n.createdResources)){var a=n.createdResources.entries;(!a||!a.length)&&(a=U.getEntriesByType("resource"));var u=vi(z(i).href,o,s,a,this._usedResources);if(u.mainRequest){var c=u.mainRequest;this._markResourceAsUsed(c);var l=u.corsPreFlightRequest;l&&(this._addChildSpan(r,l),this._markResourceAsUsed(l)),this.getConfig().ignoreNetworkEvents||me(r,c)}}},t.prototype._cleanPreviousSpanInformation=function(n){var r=this._xhrMem.get(n);if(r){var i=r.callbackToRemoveEvents;i&&i(),this._xhrMem.delete(n)}},t.prototype._createSpan=function(n,r,i){var o;if(oi(r,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var s=i.toUpperCase(),a=this.tracer.startSpan(s,{kind:De.CLIENT,attributes:(o={},o[Gr]=i,o[Ce]=z(r).toString(),o)});return a.addEvent(K.METHOD_OPEN),this._cleanPreviousSpanInformation(n),this._xhrMem.set(n,{span:a,spanUrl:r}),a},t.prototype._markResourceAsUsed=function(n){this._usedResources.add(n)},t.prototype._patchOpen=function(){var n=this;return function(r){var i=n;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=o[0],u=o[1];return i._createSpan(this,u,a),r.apply(this,o)}}},t.prototype._patchSend=function(){var n=this;function r(l,p,d,v){var _=p.callbackToRemoveEvents;typeof _=="function"&&_();var f=p.span,g=p.spanUrl,m=p.sendStartTime;f&&(n._findResourceAndAddNetworkEvents(p,f,g,m,d),f.addEvent(l,v),n._addFinalSpanAttributes(f,p,g),f.end(v),n._tasksCount--),n._clearResources()}function i(l,p){var d=n._xhrMem.get(p);if(d){d.status=p.status,d.statusText=p.statusText,n._xhrMem.delete(p),d.span&&n._applyAttributesAfterXHR(d.span,p);var v=_e(),_=Date.now();setTimeout(function(){r(l,d,v,_)},oc)}}function o(){i(K.EVENT_ERROR,this)}function s(){i(K.EVENT_ABORT,this)}function a(){i(K.EVENT_TIMEOUT,this)}function u(){this.status<299?i(K.EVENT_LOAD,this):i(K.EVENT_ERROR,this)}function c(l){l.removeEventListener("abort",s),l.removeEventListener("error",o),l.removeEventListener("load",u),l.removeEventListener("timeout",a);var p=n._xhrMem.get(l);p&&(p.callbackToRemoveEvents=void 0)}return function(l){return function(){for(var p=this,d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];var _=n._xhrMem.get(this);if(!_)return l.apply(this,d);var f=_.span,g=_.spanUrl;return f&&g&&S.with(N.setSpan(S.active(),f),function(){n._tasksCount++,_.sendStartTime=_e(),f.addEvent(K.METHOD_SEND),p.addEventListener("abort",s),p.addEventListener("error",o),p.addEventListener("load",u),p.addEventListener("timeout",a),_.callbackToRemoveEvents=function(){c(p),_.createdResources&&_.createdResources.observer.disconnect()},n._addHeaders(p,g),n._addResourceObserver(p,g)}),l.apply(this,d)}}},t.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),ue(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),ue(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},t.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},t}(gt);function jt(e,t){throw new Error(t)}function ac(e){return typeof e=="object"&&e!==null}function uc(e,t){throw new Error("Unexpected invariant triggered.")}const cc=/\r\n|[\n\r]/g;function rn(e,t){let n=0,r=1;for(const i of e.body.matchAll(cc)){if(typeof i.index=="number"||uc(),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function lc(e){return mi(e.source,rn(e.source,e.start))}function mi(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=t.line===1?n:0,u=t.column+a,c=`${e.name}:${s}:${u}
`,l=r.split(/\r\n|[\n\r]/g),p=l[i];if(p.length>120){const d=Math.floor(u/80),v=u%80,_=[];for(let f=0;f<p.length;f+=80)_.push(p.slice(f,f+80));return c+Zn([[`${s} |`,_[0]],..._.slice(1,d+1).map(f=>["|",f]),["|","^".padStart(v)],["|",_[d+1]]])}return c+Zn([[`${s-1} |`,l[i-1]],[`${s} |`,p],["|","^".padStart(u)],[`${s+1} |`,l[i+1]]])}function Zn(e){const t=e.filter(([r,i])=>i!==void 0),n=Math.max(...t.map(([r])=>r.length));return t.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function pc(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class Sn extends Error{constructor(t,...n){var r,i,o;const{nodes:s,source:a,positions:u,path:c,originalError:l,extensions:p}=pc(n);super(t),this.name="GraphQLError",this.path=c??void 0,this.originalError=l??void 0,this.nodes=er(Array.isArray(s)?s:s?[s]:void 0);const d=er((r=this.nodes)===null||r===void 0?void 0:r.map(_=>_.loc).filter(_=>_!=null));this.source=a??(d==null||(i=d[0])===null||i===void 0?void 0:i.source),this.positions=u??d?.map(_=>_.start),this.locations=u&&a?u.map(_=>rn(a,_)):d?.map(_=>rn(_.source,_.start));const v=ac(l?.extensions)?l?.extensions:void 0;this.extensions=(o=p??v)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Sn):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+lc(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+mi(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function er(e){return e===void 0||e.length===0?void 0:e}function I(e,t,n){return new Sn(`Syntax Error: ${n}`,{source:e,positions:[t]})}class dc{constructor(t,n,r){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Ei{constructor(t,n,r,i,o,s){this.kind=t,this.start=n,this.end=r,this.line=i,this.column=o,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const fc={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},hc=new Set(Object.keys(fc));function bp(e){const t=e?.kind;return typeof t=="string"&&hc.has(t)}var he;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(he||(he={}));var on;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(on||(on={}));var E;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(E||(E={}));function sn(e){return e===9||e===32}function Me(e){return e>=48&&e<=57}function yi(e){return e>=97&&e<=122||e>=65&&e<=90}function Ti(e){return yi(e)||e===95}function vc(e){return yi(e)||Me(e)||e===95}function _c(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let s=0;s<e.length;++s){var o;const a=e[s],u=gc(a);u!==a.length&&(r=(o=r)!==null&&o!==void 0?o:s,i=s,s!==0&&u<n&&(n=u))}return e.map((s,a)=>a===0?s:s.slice(n)).slice((t=r)!==null&&t!==void 0?t:0,i+1)}function gc(e){let t=0;for(;t<e.length&&sn(e.charCodeAt(t));)++t;return t}function Op(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,o=r.length>1&&r.slice(1).every(v=>v.length===0||sn(v.charCodeAt(0))),s=n.endsWith('\\"""'),a=e.endsWith('"')&&!s,u=e.endsWith("\\"),c=a||u,l=!i||e.length>70||c||o||s;let p="";const d=i&&sn(e.charCodeAt(0));return(l&&!d||o)&&(p+=`
`),p+=n,(l||c)&&(p+=`
`),'"""'+p+'"""'}var h;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(h||(h={}));class mc{constructor(t){const n=new Ei(h.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==h.EOF)do if(t.next)t=t.next;else{const n=yc(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===h.COMMENT);return t}}function Ec(e){return e===h.BANG||e===h.DOLLAR||e===h.AMP||e===h.PAREN_L||e===h.PAREN_R||e===h.SPREAD||e===h.COLON||e===h.EQUALS||e===h.AT||e===h.BRACKET_L||e===h.BRACKET_R||e===h.BRACE_L||e===h.PIPE||e===h.BRACE_R}function ye(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function mt(e,t){return bi(e.charCodeAt(t))&&Oi(e.charCodeAt(t+1))}function bi(e){return e>=55296&&e<=56319}function Oi(e){return e>=56320&&e<=57343}function le(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return h.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function A(e,t,n,r,i){const o=e.line,s=1+n-e.lineStart;return new Ei(t,n,r,o,s,i)}function yc(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const o=n.charCodeAt(i);switch(o){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return Tc(e,i);case 33:return A(e,h.BANG,i,i+1);case 36:return A(e,h.DOLLAR,i,i+1);case 38:return A(e,h.AMP,i,i+1);case 40:return A(e,h.PAREN_L,i,i+1);case 41:return A(e,h.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return A(e,h.SPREAD,i,i+3);break;case 58:return A(e,h.COLON,i,i+1);case 61:return A(e,h.EQUALS,i,i+1);case 64:return A(e,h.AT,i,i+1);case 91:return A(e,h.BRACKET_L,i,i+1);case 93:return A(e,h.BRACKET_R,i,i+1);case 123:return A(e,h.BRACE_L,i,i+1);case 124:return A(e,h.PIPE,i,i+1);case 125:return A(e,h.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?Nc(e,i):Oc(e,i)}if(Me(o)||o===45)return bc(e,i,o);if(Ti(o))return Lc(e,i);throw I(e.source,i,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:ye(o)||mt(n,i)?`Unexpected character: ${le(e,i)}.`:`Invalid character: ${le(e,i)}.`)}return A(e,h.EOF,r,r)}function Tc(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const o=n.charCodeAt(i);if(o===10||o===13)break;if(ye(o))++i;else if(mt(n,i))i+=2;else break}return A(e,h.COMMENT,t,i,n.slice(t+1,i))}function bc(e,t,n){const r=e.source.body;let i=t,o=n,s=!1;if(o===45&&(o=r.charCodeAt(++i)),o===48){if(o=r.charCodeAt(++i),Me(o))throw I(e.source,i,`Invalid number, unexpected digit after 0: ${le(e,i)}.`)}else i=Ft(e,i,o),o=r.charCodeAt(i);if(o===46&&(s=!0,o=r.charCodeAt(++i),i=Ft(e,i,o),o=r.charCodeAt(i)),(o===69||o===101)&&(s=!0,o=r.charCodeAt(++i),(o===43||o===45)&&(o=r.charCodeAt(++i)),i=Ft(e,i,o),o=r.charCodeAt(i)),o===46||Ti(o))throw I(e.source,i,`Invalid number, expected digit but got: ${le(e,i)}.`);return A(e,s?h.FLOAT:h.INT,t,i,r.slice(t,i))}function Ft(e,t,n){if(!Me(n))throw I(e.source,t,`Invalid number, expected digit but got: ${le(e,t)}.`);const r=e.source.body;let i=t+1;for(;Me(r.charCodeAt(i));)++i;return i}function Oc(e,t){const n=e.source.body,r=n.length;let i=t+1,o=i,s="";for(;i<r;){const a=n.charCodeAt(i);if(a===34)return s+=n.slice(o,i),A(e,h.STRING,t,i+1,s);if(a===92){s+=n.slice(o,i);const u=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?Sc(e,i):wc(e,i):Rc(e,i);s+=u.value,i+=u.size,o=i;continue}if(a===10||a===13)break;if(ye(a))++i;else if(mt(n,i))i+=2;else throw I(e.source,i,`Invalid character within String: ${le(e,i)}.`)}throw I(e.source,i,"Unterminated string.")}function Sc(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const o=n.charCodeAt(t+i++);if(o===125){if(i<5||!ye(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Ne(o),r<0)break}throw I(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function wc(e,t){const n=e.source.body,r=tr(n,t+2);if(ye(r))return{value:String.fromCodePoint(r),size:6};if(bi(r)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const i=tr(n,t+8);if(Oi(i))return{value:String.fromCodePoint(r,i),size:12}}throw I(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function tr(e,t){return Ne(e.charCodeAt(t))<<12|Ne(e.charCodeAt(t+1))<<8|Ne(e.charCodeAt(t+2))<<4|Ne(e.charCodeAt(t+3))}function Ne(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Rc(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw I(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function Nc(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,o=t+3,s=o,a="";const u=[];for(;o<r;){const c=n.charCodeAt(o);if(c===34&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34){a+=n.slice(s,o),u.push(a);const l=A(e,h.BLOCK_STRING,t,o+3,_c(u).join(`
`));return e.line+=u.length-1,e.lineStart=i,l}if(c===92&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34&&n.charCodeAt(o+3)===34){a+=n.slice(s,o),s=o+1,o+=4;continue}if(c===10||c===13){a+=n.slice(s,o),u.push(a),c===13&&n.charCodeAt(o+1)===10?o+=2:++o,a="",s=o,i=o;continue}if(ye(c))++o;else if(mt(n,o))o+=2;else throw I(e.source,o,`Invalid character within String: ${le(e,o)}.`)}throw I(e.source,o,"Unterminated string.")}function Lc(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const o=n.charCodeAt(i);if(vc(o))++i;else break}return A(e,h.NAME,t,i,n.slice(t,i))}const Ac=10,Si=2;function wi(e){return Et(e,[])}function Et(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return Cc(e,t);default:return String(e)}}function Cc(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(Ic(e)){const r=e.toJSON();if(r!==e)return typeof r=="string"?r:Et(r,n)}else if(Array.isArray(e))return kc(e,n);return Pc(e,n)}function Ic(e){return typeof e.toJSON=="function"}function Pc(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>Si?"["+xc(e)+"]":"{ "+n.map(([r,i])=>r+": "+Et(i,t)).join(", ")+" }"}function kc(e,t){if(e.length===0)return"[]";if(t.length>Si)return"[Array]";const n=Math.min(Ac,e.length),r=e.length-n,i=[];for(let o=0;o<n;++o)i.push(Et(e[o],t));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function xc(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const Dc=globalThis.process?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if(typeof e=="object"&&e!==null){var n;const r=t.prototype[Symbol.toStringTag],i=Symbol.toStringTag in e?e[Symbol.toStringTag]:(n=e.constructor)===null||n===void 0?void 0:n.name;if(r===i){const o=wi(e);throw new Error(`Cannot use ${r} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Ri{constructor(t,n="GraphQL request",r={line:1,column:1}){typeof t=="string"||jt(!1,`Body must be a string. Received: ${wi(t)}.`),this.body=t,this.name=n,this.locationOffset=r,this.locationOffset.line>0||jt(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||jt(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Mc(e){return Dc(e,Ri)}function Uc(e,t){return new Bc(e,t).parseDocument()}class Bc{constructor(t,n={}){const r=Mc(t)?t:new Ri(t);this._lexer=new mc(r),this._options=n,this._tokenCounter=0}parseName(){const t=this.expectToken(h.NAME);return this.node(t,{kind:E.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:E.DOCUMENT,definitions:this.many(h.SOF,this.parseDefinition,h.EOF)})}parseDefinition(){if(this.peek(h.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===h.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw I(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(h.BRACE_L))return this.node(t,{kind:E.OPERATION_DEFINITION,operation:he.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(h.NAME)&&(r=this.parseName()),this.node(t,{kind:E.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(h.NAME);switch(t.value){case"query":return he.QUERY;case"mutation":return he.MUTATION;case"subscription":return he.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(h.PAREN_L,this.parseVariableDefinition,h.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:E.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(h.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(h.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(h.DOLLAR),this.node(t,{kind:E.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:E.SELECTION_SET,selections:this.many(h.BRACE_L,this.parseSelection,h.BRACE_R)})}parseSelection(){return this.peek(h.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(h.COLON)?(r=n,i=this.parseName()):i=n,this.node(t,{kind:E.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(h.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(h.PAREN_L,n,h.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(h.COLON),this.node(n,{kind:E.ARGUMENT,name:r,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(h.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(h.NAME)?this.node(t,{kind:E.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:E.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:E.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:E.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case h.BRACKET_L:return this.parseList(t);case h.BRACE_L:return this.parseObject(t);case h.INT:return this.advanceLexer(),this.node(n,{kind:E.INT,value:n.value});case h.FLOAT:return this.advanceLexer(),this.node(n,{kind:E.FLOAT,value:n.value});case h.STRING:case h.BLOCK_STRING:return this.parseStringLiteral();case h.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:E.BOOLEAN,value:!0});case"false":return this.node(n,{kind:E.BOOLEAN,value:!1});case"null":return this.node(n,{kind:E.NULL});default:return this.node(n,{kind:E.ENUM,value:n.value})}case h.DOLLAR:if(t)if(this.expectToken(h.DOLLAR),this._lexer.token.kind===h.NAME){const r=this._lexer.token.value;throw I(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:E.STRING,value:t.value,block:t.kind===h.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:E.LIST,values:this.any(h.BRACKET_L,n,h.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:E.OBJECT,fields:this.any(h.BRACE_L,n,h.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,r=this.parseName();return this.expectToken(h.COLON),this.node(n,{kind:E.OBJECT_FIELD,name:r,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(h.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(h.AT),this.node(n,{kind:E.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(h.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(h.BRACKET_R),n=this.node(t,{kind:E.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(h.BANG)?this.node(t,{kind:E.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:E.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(h.STRING)||this.peek(h.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(h.BRACE_L,this.parseOperationTypeDefinition,h.BRACE_R);return this.node(t,{kind:E.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(h.COLON);const r=this.parseNamedType();return this.node(t,{kind:E.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(t,{kind:E.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:E.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(h.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(h.BRACE_L,this.parseFieldDefinition,h.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(h.COLON);const o=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(t,{kind:E.FIELD_DEFINITION,description:n,name:r,arguments:i,type:o,directives:s})}parseArgumentDefs(){return this.optionalMany(h.PAREN_L,this.parseInputValueDef,h.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(h.COLON);const i=this.parseTypeReference();let o;this.expectOptionalToken(h.EQUALS)&&(o=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(t,{kind:E.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:s})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:E.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(t,{kind:E.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(h.EQUALS)?this.delimitedMany(h.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(t,{kind:E.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o})}parseEnumValuesDefinition(){return this.optionalMany(h.BRACE_L,this.parseEnumValueDefinition,h.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(t,{kind:E.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw I(this._lexer.source,this._lexer.token.start,`${Xe(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(t,{kind:E.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(h.BRACE_L,this.parseInputValueDef,h.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===h.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(h.BRACE_L,this.parseOperationTypeDefinition,h.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:E.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(t,{kind:E.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(t,{kind:E.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(t,{kind:E.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:E.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:E.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:E.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(h.AT);const r=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(t,{kind:E.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:o,locations:s})}parseDirectiveLocations(){return this.delimitedMany(h.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(on,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new dc(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw I(this._lexer.source,n.start,`Expected ${Ni(t)}, found ${Xe(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===h.NAME&&n.value===t)this.advanceLexer();else throw I(this._lexer.source,n.start,`Expected "${t}", found ${Xe(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===h.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return I(this._lexer.source,n.start,`Unexpected ${Xe(n)}.`)}any(t,n,r){this.expectToken(t);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(t,n,r){if(this.expectOptionalToken(t)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(t,n,r){this.expectToken(t);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(t,n){this.expectOptionalToken(t);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(t));return r}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(t!==void 0&&n.kind!==h.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw I(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function Xe(e){const t=e.value;return Ni(e.kind)+(t!=null?` "${t}"`:"")}function Ni(e){return Ec(e)?`"${e}"`:e}/*! js-cookie v3.0.5 | MIT */function Ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var jc={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function an(e,t){function n(i,o,s){if(typeof document<"u"){s=Ke({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var u in s)s[u]&&(a+="; "+u,s[u]!==!0&&(a+="="+s[u].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var u=o[a].split("="),c=u.slice(1).join("=");try{var l=decodeURIComponent(u[0]);if(s[l]=e.read(c,l),i===l)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",Ke({},o,{expires:-1}))},withAttributes:function(i){return an(this.converter,Ke({},this.attributes,i))},withConverter:function(i){return an(Ke({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Vt=an(jc,{path:"/"});let wn="localStorage",un=!0;class Fc{constructor(){O(this,"storage",{})}getItem(t){var n;return(n=this.storage[t])!=null?n:""}setItem(t,n){this.storage[t]=n}removeItem(t){delete this.storage[t]}}class Vc{getItem(t){var n;return(n=Vt.get(t))!=null?n:""}setItem(t,n){if(!un)return;const r=new Date;r.setTime(r.getTime()+9e5),Vt.set(t,n,{expires:r})}removeItem(t){un&&Vt.remove(t)}}let Hc=new Fc;const dt=new Vc,Rn=()=>{try{switch(wn){case"localStorage":return window.localStorage;case"sessionStorage":return window.sessionStorage}}catch{return Hc}},Sp=e=>{wn=e},qc=e=>{un=e},Li=e=>Rn().getItem(e),Ai=(e,t)=>(dt.setItem(e,t),Rn().setItem(e,t)),Gc=e=>(dt.removeItem(e),Rn().removeItem(e)),wp=e=>{if(wn==="sessionStorage"){console.warn("highlight.io cannot use local storage; segment integration will not work");return}const t=window.localStorage.setItem;window.localStorage.setItem=function(){const[n,r]=arguments;e({keyName:n,keyValue:r}),t.apply(this,[n,r])}};var Ee;(function(e){e.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",e.SESSION_ID="sessionID",e.SESSION_DATA="sessionData",e.USER_IDENTIFIER="highlightIdentifier",e.USER_OBJECT="highlightUserObject"})(Ee||(Ee={}));const yt=e=>`${Ee.SESSION_DATA}_${e}`;let Ci="";const Xc=()=>Ci,Kc=e=>{e&&(Ci=e)},zc=()=>{var e;return(e=Li(Ee.SESSION_ID))!=null?e:""},$c=e=>{Ai(Ee.SESSION_ID,e)},Wc=e=>{const t=yt(e);return JSON.parse(Li(t)||"{}")},Ht=e=>{e||(e=zc());let t=Wc(e);if(t&&t.lastPushTime&&Date.now()-t.lastPushTime<9e5)return t;Gc(yt(e))},Yc=function(e){if(!(e!=null&&e.sessionSecureID))return;const t=e.sessionSecureID;Kc(t),Ai(yt(t),JSON.stringify(e))},Jc=function(){const e=dt.getItem(Ee.SESSION_ID);$c(e);const t=yt(e),n=dt.getItem(t);try{Yc(JSON.parse(n))}catch{}},nr=(e,t,n)=>{const r=Ii(t,e.headers,n);return D(k({},e),{headers:r})},Ii=(e,t,n)=>{var r,i;const o=k({},t);return n?((r=Object.keys(o))==null||r.forEach(s=>{[...n].includes(s?.toLowerCase())||(o[s]="[REDACTED]")}),o):((i=Object.keys(o))==null||i.forEach(s=>{[...Qc,...e].includes(s?.toLowerCase())&&(o[s]="[REDACTED]")}),o)},Qc=["authorization","cookie","proxy-authorization","token"],Pi=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"],ki="X-Highlight-Request",rr=e=>{let t=e;return!e.startsWith("https://")&&!e.startsWith("http://")&&(t=`${window.location.origin}${t}`),t.replace(/\/+$/,"")},Zc=(e,{headersToRedact:t,headersToRecord:n,requestResponseSanitizer:r})=>{var i,o;let s=e;if(r){let p=!0;try{s.request.body=JSON.parse(s.request.body)}catch{p=!1}let d=!0;try{s.response.body=JSON.parse(s.response.body)}catch{d=!1}try{s=r(s)}catch{}finally{p=p&&!!((i=s?.request)!=null&&i.body),d=d&&!!((o=s?.response)!=null&&o.body),p&&(s.request.body=JSON.stringify(s.request.body)),d&&(s.response.body=JSON.stringify(s.response.body))}if(!s)return null}const a=s,{request:u,response:c}=a,l=br(a,["request","response"]);return k({request:nr(u,t,n),response:nr(c,t,n)},l)},ir=(e,t,n,r)=>{e.sort((u,c)=>u.responseEnd-c.responseEnd);const i={xmlhttprequest:{},others:{},fetch:{}},o=e.reduce((u,c)=>{const l=rr(c.name);return c.initiatorType===n?u[n][l]=[...u[n][l]||[],c]:u.others[l]=[...u.others[l]||[],c],u},i);let s={};s=t.reduce((u,c)=>{const l=rr(c.request.url);return u[l]=[...u[l]||[],c],u},s);for(let u in o[n]){const c=o[n][u],l=s[u];if(!l)continue;const p=Math.max(c.length-l.length,0);for(let d=p;d<c.length;d++)c[d]&&(c[d].requestResponsePair=l[d-p])}let a=[];for(let u in o)for(let c in o[u])a=a.concat(o[u][c]);return a.sort((u,c)=>u.fetchStart-c.fetchStart).reduce((u,c)=>{let l=c.requestResponsePair;return l&&(l=Zc(c.requestResponsePair,r),!l)||(c.toJSON=function(){const p=window.performance.timeOrigin;return{initiatorType:this.initiatorType,startTimeAbs:p+this.startTime,connectStartAbs:p+this.connectStart,connectEndAbs:p+this.connectEnd,domainLookupStartAbs:p+this.domainLookupStart,domainLookupEndAbs:p+this.domainLookupEnd,fetchStartAbs:p+this.fetchStart,redirectStartAbs:p+this.redirectStart,redirectEndAbs:p+this.redirectEnd,requestStartAbs:p+this.requestStart,responseStartAbs:p+this.responseStart,responseEndAbs:p+this.responseEnd,secureConnectionStartAbs:p+this.secureConnectionStart,workerStartAbs:p+this.workerStart,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,decodedBodySize:this.decodedBodySize,nextHopProtocol:this.nextHopProtocol,requestResponsePairs:l}},u.push(c)),u},[])},el=(e,t)=>e.toLocaleLowerCase().includes("pub.highlight.io")||e.toLocaleLowerCase().includes("pub.highlight.io")||e.toLocaleLowerCase().includes("otel.highlight.io")||t.some(n=>e.toLocaleLowerCase().includes(n)),Tt=(e,t,n)=>!el(e,t)||Nn(e,n??[],[]),Nn=(e,t,n)=>{var r;if(n.some(s=>e.toLowerCase().includes(s)))return!1;let i=[];t===!0?(i=["localhost",/^\//],(r=window?.location)!=null&&r.host&&i.push(window.location.host)):t instanceof Array&&(i=t);let o=!1;return i.forEach(s=>{e.match(s)&&(o=!0)}),o};function tl(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}const Ln=()=>{const e=tl(10),t=ip(),n=t?.spanContext().traceId;return[Xc(),n??e]},xi=(e,t)=>e+"/"+t,nl=(e,t,n,r,i,o)=>{const s=XMLHttpRequest.prototype,a=s.open,u=s.send,c=s.setRequestHeader;return s.open=function(l,p){return typeof p=="string"?this._url=p:this._url=p.toString(),this._method=l,this._requestHeaders={},this._shouldRecordHeaderAndBody=!r.some(d=>this._url.toLowerCase().includes(d)),a.apply(this,arguments)},s.setRequestHeader=function(l,p){return this._requestHeaders[l]=p,c.apply(this,arguments)},s.send=function(l){if(!Tt(this._url,t,n))return u.apply(this,arguments);const[p,d]=Ln();Nn(this._url,n,r)&&this.setRequestHeader(ki,xi(p,d));const v=this._shouldRecordHeaderAndBody,_={sessionSecureID:p,id:d,url:this._url,verb:this._method,headers:v?this._requestHeaders:{},body:void 0};if(v&&l){const f=or(l,_.url);f&&(this._body=f,_.body=ee(f,i,o,_.headers))}return this.addEventListener("load",function(){return q(this,null,function*(){const f={status:this.status,headers:{},body:void 0};if(v){const g=this.getAllResponseHeaders().trim().split(/[\r\n]+/),m={};if(g.forEach(function(b){const P=b.split(": "),F=P.shift();m[F]=P.join(": ")}),f.headers=m,l){const b=or(l,_.url);b&&(_.body=ee(b,i,o,f.headers))}if(this.responseType===""||this.responseType==="text")f.body=ee(this.responseText,i,o,f.headers),f.size=this.responseText.length*8;else if(this.responseType==="blob"){if(this.response instanceof Blob)try{const b=yield this.response.text();f.body=ee(b,i,o,f.headers),f.size=this.response.size}catch{}}else try{f.body=ee(this.response,i,o,f.headers)}catch{}}e({request:_,response:f,urlBlocked:!v})})}),this.addEventListener("error",function(){return q(this,null,function*(){const f={status:this.status,headers:void 0,body:void 0};e({request:_,response:f,urlBlocked:!1})})}),u.apply(this,arguments)},()=>{s.open=a,s.send=u,s.setRequestHeader=c}},or=(e,t)=>{if(typeof e=="string"){if(!((t!=null&&t.includes("localhost")||t!=null&&t.includes("highlight.run"))&&e.includes("pushPayload")))return e}else if(typeof e=="object"||typeof e=="number"||typeof e=="boolean")return nt(e);return null},sr=64*1024,rl={"application/json":64*1024*1024,"text/plain":64*1024*1024},ee=(e,t,n,r)=>{var i,o,s;let a=sr;if(r){let u="";typeof r.get=="function"?u=(i=r.get("content-type"))!=null?i:"":u=(o=r["content-type"])!=null?o:"";try{u=u.split(";")[0]}catch{}a=(s=rl[u])!=null?s:sr}if(e){if(t)try{const u=JSON.parse(e);Array.isArray(u)?u.forEach(c=>{Object.keys(c).forEach(l=>{t.includes(l.toLocaleLowerCase())&&(c[l]="[REDACTED]")})}):Object.keys(u).forEach(c=>{t.includes(c.toLocaleLowerCase())&&(u[c]="[REDACTED]")}),e=JSON.stringify(u)}catch{}if(n)try{const u=JSON.parse(e);Object.keys(u).forEach(c=>{n.includes(c.toLocaleLowerCase())||(u[c]="[REDACTED]")}),e=JSON.stringify(u)}catch{}}try{e=e.slice(0,a)}catch{}return e},il=(e,t,n,r,i,o)=>{const s=window._fetchProxy;return window._fetchProxy=function(a,u){const{method:c,url:l}=ol(a,u);if(!Tt(l,t,n))return s.call(this,a,u);const[p,d]=Ln();if(Nn(l,n,r)){u=u||{};let g=new Headers(u.headers);a instanceof Request&&[...a.headers].forEach(([m,b])=>g.set(m,b)),g.set(ki,xi(p,d)),u.headers=Object.fromEntries(g.entries())}const v={sessionSecureID:p,id:d,headers:{},body:void 0,url:l,verb:c},_=!r.some(g=>l.toLowerCase().includes(g));_&&(v.headers=Object.fromEntries(new Headers(u?.headers).entries()),v.body=ee(u?.body,i,o,u?.headers));let f=s.call(this,a,u);return sl(f,v,e,_,i,o),f},()=>{window._fetchProxy=s}},ol=(e,t)=>{const n=t&&t.method||typeof e=="object"&&"method"in e&&e.method||"GET";let r;return typeof e=="object"?"url"in e&&e.url?r=e.url:r=e.toString():r=e,{method:n,url:r}},sl=(e,t,n,r,i,o)=>{const s=a=>q(void 0,null,function*(){let u={body:void 0,headers:void 0,status:0,size:0},c=!1,l=!r;"stack"in a||a instanceof Error?(u=D(k({},u),{body:a.message,status:0,size:void 0}),c=!0):"status"in a&&(u=D(k({},u),{status:a.status}),r&&(u.body=yield Di(a,o,i),u.headers=Object.fromEntries(a.headers.entries()),u.size=u.body.length*8),(a.type==="opaque"||a.type==="opaqueredirect")&&(l=!0,u=D(k({},u),{body:"CORS blocked request"})),c=!0),c&&n({request:t,response:u,urlBlocked:l})});e.then(s).catch(()=>{})},Di=(e,t,n)=>q(void 0,null,function*(){let r;try{const i=e.clone().body;if(i){let o=i.getReader(),s=new TextDecoder,a,u="";for(;!(a=yield o.read()).done;){let c=a.value;u+=s.decode(c)}r=u,r=ee(r,n,t,e.headers)}else r=""}catch(i){r=`Unable to clone response: ${i}`}return r});var al=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Mi=1e4;function ul(e){e===void 0&&(e={});var t={};return Object.entries(e).forEach(function(n){var r=al(n,2),i=r[0],o=r[1];typeof o<"u"?t[i]=String(o):T.warn('Header "'+i+'" has invalid value ('+o+") and will be ignored")}),t}function cl(e){return typeof e=="number"?e<=0?Ui(e,Mi):e:ll()}function ll(){var e,t=Number((e=J().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:J().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?Ui(t,Mi):t}function Ui(e,t){return T.warn("Timeout must be greater than 0",e),t}function pl(e){var t=[429,502,503,504];return t.includes(e)}function dl(e){if(e==null)return-1;var t=Number.parseInt(e,10);if(Number.isInteger(t))return t>0?t*1e3:-1;var n=new Date(e).getTime()-Date.now();return n>=0?n:0}var fl=function(){function e(t){t===void 0&&(t={}),this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new si(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:30,this.timeoutMillis=cl(t.timeoutMillis),this.onInit(t)}return e.prototype.export=function(t,n){if(this._shutdownOnce.isCalled){n({code:ae.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){n({code:ae.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(function(){n({code:ae.SUCCESS})}).catch(function(r){n({code:ae.FAILED,error:r})})},e.prototype._export=function(t){var n=this;return new Promise(function(r,i){try{T.debug("items to be sent",t),n.send(t,r,i)}catch(o){i(o)}})},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then(function(){})},e.prototype._shutdown=function(){return T.debug("shutdown started"),this.onShutdown(),this.forceFlush()},e}(),hl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ar=function(e){hl(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.name="OTLPExporterError",o.data=i,o.code=r,o}return t}(Error),vl=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},_l=function(){function e(t){this._parameters=t}return e.prototype.send=function(t,n){var r=this;return new Promise(function(i){var o=new XMLHttpRequest;o.timeout=n,o.open("POST",r._parameters.url),Object.entries(r._parameters.headers).forEach(function(s){var a=vl(s,2),u=a[0],c=a[1];o.setRequestHeader(u,c)}),o.ontimeout=function(s){i({status:"failure",error:new Error("XHR request timed out")})},o.onreadystatechange=function(){o.status>=200&&o.status<=299?(T.debug("XHR success"),i({status:"success"})):o.status&&pl(o.status)?i({status:"retryable",retryInMillis:dl(o.getResponseHeader("Retry-After"))}):o.status!==0&&i({status:"failure",error:new Error("XHR request failed with non-retryable status")})},o.onabort=function(){i({status:"failure",error:new Error("XHR request aborted")})},o.onerror=function(){i({status:"failure",error:new Error("XHR request errored")})},o.send(new Blob([t],{type:r._parameters.headers["Content-Type"]}))})},e.prototype.shutdown=function(){},e}();function gl(e){return new _l(e)}var ml=function(){function e(t){this._params=t}return e.prototype.send=function(t){var n=this;return new Promise(function(r){navigator.sendBeacon(n._params.url,new Blob([t],{type:n._params.blobType}))?(T.debug("SendBeacon success"),r({status:"success"})):r({status:"failure",error:new Error("SendBeacon failed")})})},e.prototype.shutdown=function(){},e}();function El(e){return new ml(e)}var yl=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(p){s(p)}}function u(l){try{c(r.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,[])).next())})},Tl=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},bl=5,Ol=1e3,Sl=5e3,wl=1.5,ur=.2;function Rl(){return Math.random()*(2*ur)-ur}var Nl=function(){function e(t){this._transport=t}return e.prototype.retry=function(t,n,r){var i=this;return new Promise(function(o,s){setTimeout(function(){i._transport.send(t,n).then(o,s)},r)})},e.prototype.send=function(t,n){var r;return yl(this,void 0,void 0,function(){var i,o,s,a,u,c,l;return Tl(this,function(p){switch(p.label){case 0:return i=Date.now()+n,[4,this._transport.send(t,n)];case 1:o=p.sent(),s=bl,a=Ol,p.label=2;case 2:return o.status==="retryable"&&s>0?(s--,u=Math.max(Math.min(a,Sl)+Rl(),0),a=a*wl,c=(r=o.retryInMillis)!==null&&r!==void 0?r:u,l=i-Date.now(),c>l?[2,o]:[4,this.retry(t,l,c)]):[3,4];case 3:return o=p.sent(),[3,2];case 4:return[2,o]}})})},e.prototype.shutdown=function(){return this._transport.shutdown()},e}();function Ll(e){return new Nl(e.transport)}var Al=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cl=function(e){Al(t,e);function t(n,r,i){n===void 0&&(n={});var o=e.call(this,n)||this;o._serializer=r;var s=!!n.headers||typeof navigator.sendBeacon!="function";return s?o._transport=Ll({transport:gl({headers:Object.assign({},ul(n.headers),ou.parseKeyPairsIntoRecord(J().OTEL_EXPORTER_OTLP_HEADERS),{"Content-Type":i}),url:o.url})}):o._transport=El({url:o.url,blobType:i}),o}return t.prototype.onInit=function(){},t.prototype.onShutdown=function(){},t.prototype.send=function(n,r,i){var o=this;if(this._shutdownOnce.isCalled){T.debug("Shutdown already started. Cannot send objects");return}var s=this._serializer.serializeRequest(n);if(s==null){i(new Error("Could not serialize message"));return}var a=this._transport.send(s,this.timeoutMillis).then(function(c){c.status==="success"?r():c.status==="failure"&&c.error?i(c.error):c.status==="retryable"?i(new ar("Export failed with retryable status")):i(new ar("Export failed with unknown error"))},i);this._sendingPromises.push(a);var u=function(){var c=o._sendingPromises.indexOf(a);o._sendingPromises.splice(c,1)};a.then(u,u)},t}(fl);function Bi(e){var t=BigInt(1e9);return BigInt(e[0])*t+BigInt(e[1])}function Il(e){var t=Number(BigInt.asUintN(32,e)),n=Number(BigInt.asUintN(32,e>>BigInt(32)));return{low:t,high:n}}function ji(e){var t=Bi(e);return Il(t)}function Pl(e){var t=Bi(e);return t.toString()}var kl=typeof BigInt<"u"?Pl:W;function cr(e){return e}function Fi(e){if(e!==void 0)return yn(e)}var xl={encodeHrTime:ji,encodeSpanContext:yn,encodeOptionalSpanContext:Fi};function Dl(e){var t,n;if(e===void 0)return xl;var r=(t=e.useLongBits)!==null&&t!==void 0?t:!0,i=(n=e.useHex)!==null&&n!==void 0?n:!1;return{encodeHrTime:r?ji:kl,encodeSpanContext:i?cr:yn,encodeOptionalSpanContext:i?cr:Fi}}var Ml=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o};function Ul(e){return{name:e.name,version:e.version}}function bt(e){return Object.keys(e).map(function(t){return Vi(t,e[t])})}function Vi(e,t){return{key:e,value:Hi(t)}}function Hi(e){var t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Hi)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(function(n){var r=Ml(n,2),i=r[0],o=r[1];return Vi(i,o)})}}:{}}function Bl(e,t){var n,r=e.spanContext(),i=e.status;return{traceId:t.encodeSpanContext(r.traceId),spanId:t.encodeSpanContext(r.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:(n=r.traceState)===null||n===void 0?void 0:n.serialize(),name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:bt(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(function(o){return Fl(o,t)}),droppedEventsCount:e.droppedEventsCount,status:{code:i.code,message:i.message},links:e.links.map(function(o){return jl(o,t)}),droppedLinksCount:e.droppedLinksCount}}function jl(e,t){var n;return{attributes:e.attributes?bt(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:(n=e.context.traceState)===null||n===void 0?void 0:n.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}function Fl(e,t){return{attributes:e.attributes?bt(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}function Vl(e){return{attributes:bt(e.attributes),droppedAttributesCount:0}}var Hl=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ql=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o};function Gl(e,t){var n=Dl(t);return{resourceSpans:Kl(e,n)}}function Xl(e){var t,n,r=new Map;try{for(var i=Hl(e),o=i.next();!o.done;o=i.next()){var s=o.value,a=r.get(s.resource);a||(a=new Map,r.set(s.resource,a));var u=s.instrumentationLibrary.name+"@"+(s.instrumentationLibrary.version||"")+":"+(s.instrumentationLibrary.schemaUrl||""),c=a.get(u);c||(c=[],a.set(u,c)),c.push(s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Kl(e,t){for(var n=Xl(e),r=[],i=n.entries(),o=i.next();!o.done;){for(var s=ql(o.value,2),a=s[0],u=s[1],c=[],l=u.values(),p=l.next();!p.done;){var d=p.value;if(d.length>0){var v=d.map(function(f){return Bl(f,t)});c.push({scope:Ul(d[0].instrumentationLibrary),spans:v,schemaUrl:d[0].instrumentationLibrary.schemaUrl})}p=l.next()}var _={resource:Vl(a),scopeSpans:c,schemaUrl:void 0};r.push(_),o=i.next()}return r}var zl={serializeRequest:function(e){var t=Gl(e,{useHex:!0,useLongBits:!1}),n=new TextEncoder;return n.encode(JSON.stringify(t))},deserializeResponse:function(e){var t=new TextDecoder;return JSON.parse(t.decode(e))}},$l=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wl="v1/traces",Yl="http://localhost:4318/"+Wl,lr=function(e){$l(t,e);function t(n){return n===void 0&&(n={}),e.call(this,n,zl,"application/json")||this}return t.prototype.getDefaultUrl=function(n){return typeof n.url=="string"?n.url:Yl},t}(Cl);class Jl extends lr{constructor(t){super(t),O(this,"xhrTraceExporter"),this.xhrTraceExporter=new lr(D(k({},t??{}),{headers:{}}))}send(t,n,r){super.send(t,n,i=>{i.message.toLocaleLowerCase().includes("beacon")?this.xhrTraceExporter.send(t,n,o=>{r(D(k({},i),{message:`${i.message} --- [XHR retry message: ${o.message}; code: ${o.code}].`,code:i.code,data:`${i.data} --- [XHR retry data: ${o.data}].`}))}):r(i)})}}const Ql=["click","input","submit"];function Zl(){return!1}class ep extends gt{constructor(t={}){var n;super("user-interaction","1.0.0",t),O(this,"_spansData",new WeakMap),O(this,"_wrappedListeners",new WeakMap),O(this,"_eventsSpanMap",new WeakMap),O(this,"_eventNames"),O(this,"_shouldPreventSpanCreation"),this._eventNames=new Set((n=t?.eventNames)!=null?n:Ql),this._shouldPreventSpanCreation=typeof t?.shouldPreventSpanCreation=="function"?t.shouldPreventSpanCreation:Zl}init(){}_allowEventName(t){return this._eventNames.has(t)}_createSpan(t,n){var r;const i=t?.target,o=t?.type;if(!(i instanceof HTMLElement)||!i.getAttribute||i.hasAttribute("disabled")||!this._allowEventName(o))return;const s=_i(i,!0);try{const a=this.tracer.startSpan(o,{attributes:{"event.type":o,"event.tag":i.tagName,"event.xpath":s,"event.id":i.id,"event.text":(r=i.textContent)!=null?r:"","event.url":window.location.href,"viewport.width":window.innerWidth,"viewport.height":window.innerHeight}},n?N.setSpan(S.active(),n):void 0);return t instanceof MouseEvent&&(a.setAttribute("event.x",t.clientX),a.setAttribute("event.y",t.clientY),a.setAttribute("event.relativeX",t.clientX/window.innerWidth),a.setAttribute("event.relativeY",t.clientY/window.innerHeight),o==="scroll"&&(a.setAttribute("event.scrollX",window.scrollX),a.setAttribute("event.scrollY",window.scrollY))),this._shouldPreventSpanCreation(o,i,a)===!0?void 0:(this._spansData.set(a,{taskCount:0}),a)}catch(a){this._diag.error("failed to start create new user interaction span",a)}}addPatchedListener(t,n,r,i){let o=this._wrappedListeners.get(r);o||(o=new Map,this._wrappedListeners.set(r,o));let s=o.get(n);return s||(s=new Map,o.set(n,s)),s.has(t)?!1:(s.set(t,i),!0)}removePatchedListener(t,n,r){const i=this._wrappedListeners.get(r);if(!i)return;const o=i.get(n);if(!o)return;const s=o.get(t);return s&&(o.delete(t),o.size===0&&(i.delete(n),i.size===0&&this._wrappedListeners.delete(r))),s}_invokeListener(t,n,r){return typeof t=="function"?t.apply(n,r):t.handleEvent(r[0])}_patchAddEventListener(){const t=this;let n=0;return r=>function(i,o,s){if(!o)return r.call(this,i,o,s);const a=s&&typeof s=="object"&&s.once,u=function(...c){let l;const p=c[0];if(p?.type==="mousemove"&&Date.now()-n<1e3/60)return r.call(this,i,o,s);n=Date.now(),p&&(l=t._eventsSpanMap.get(p)),a&&t.removePatchedListener(this,i,o);const d=t._createSpan(p,l);return d?(p&&t._eventsSpanMap.set(p,d),S.with(N.setSpan(S.active(),d),()=>{const v=t._invokeListener(o,this,c);return d.end(),v})):t._invokeListener(o,this,c)};if(t.addPatchedListener(this,i,o,u))return r.call(this,i,u,s)}}_patchRemoveEventListener(){const t=this;return n=>function(r,i,o){const s=t.removePatchedListener(this,r,i);return s?n.call(this,r,s,o):n.call(this,r,i,o)}}_getPatchableEventTargets(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]}enable(){this._getPatchableEventTargets().forEach(t=>{ue(t.addEventListener)&&(this._unwrap(t,"addEventListener"),this._diag.debug("removing previous patch from method addEventListener")),ue(t.removeEventListener)&&(this._unwrap(t,"removeEventListener"),this._diag.debug("removing previous patch from method removeEventListener")),this._wrap(t,"addEventListener",this._patchAddEventListener()),this._wrap(t,"removeEventListener",this._patchRemoveEventListener())})}disable(){this._getPatchableEventTargets().forEach(t=>{ue(t.addEventListener)&&this._unwrap(t,"addEventListener"),ue(t.removeEventListener)&&this._unwrap(t,"removeEventListener")})}}let te;const ft="highlight.record",Rp=e=>{var t,n,r,i,o;if(te!==void 0){console.warn("OTEL already initialized. Skipping...");return}const s=e.backendUrl||void 0||"https://pub.highlight.run",a=[...(n=(t=e.networkRecordingOptions)==null?void 0:t.urlBlocklist)!=null?n:[],...Pi],u=(r=e.environment)!=null?r:"production";te=new Hu({resource:new tn({[$r]:(i=e.serviceName)!=null?i:"highlight-browser",[_a]:u,"highlight.project_id":e.projectId,"highlight.session_id":e.sessionSecureId})});const c=new Jl({url:e.otlpEndpoint+"/v1/traces",concurrencyLimit:10,compression:"gzip"}),l=new tp(c,{maxExportBatchSize:15});te.addSpanProcessor(l);let p=[new ec({applyCustomAttributesOnSpan:{documentLoad:fr,documentFetch:fr,resourceFetch:ap}}),new ep];(o=e.networkRecordingOptions)!=null&&o.enabled&&(p.push(new rc({propagateTraceHeaderCorsUrls:hr(e.tracingOrigins),applyCustomAttributesOnSpan:(v,_,f)=>q(void 0,null,function*(){var g,m,b;const P=v;if(P.attributes[ft]===!1)return;const F=P.attributes["http.url"],V=(g=_.method)!=null?g:"GET";if(v.updateName(pr(F,V,_.body)),!(f instanceof Response)){v.setAttributes({"http.response.error":f.message,"http.response.status":f.status});return}dr(v,_.body,_.headers,e.networkRecordingOptions);const Q=yield Di(f,(m=e.networkRecordingOptions)==null?void 0:m.bodyKeysToRecord,(b=e.networkRecordingOptions)==null?void 0:b.networkBodyKeysToRedact);v.setAttribute("http.response.body",Q)})})),p.push(new sc({propagateTraceHeaderCorsUrls:hr(e.tracingOrigins),applyCustomAttributesOnSpan:(v,_)=>{var f,g;const m=_;if(v.attributes[ft]===!1)return;const b=pr(m._url,m._method,_.responseText);v.updateName(b),dr(v,m._body,m._requestHeaders,e.networkRecordingOptions);const P=ee(m._body,(f=e.networkRecordingOptions)==null?void 0:f.networkBodyKeysToRedact,(g=e.networkRecordingOptions)==null?void 0:g.bodyKeysToRecord,m._requestHeaders);v.setAttribute("http.request.body",P)}}))),fu({instrumentations:p});const d=new fi;d.enable(),te.register({contextManager:d,propagator:new Yr({propagators:[new Br,new np({backendUrl:s,otlpEndpoint:e.otlpEndpoint,tracingOrigins:e.tracingOrigins,urlBlocklist:a})]})})};class tp extends di{onEnd(t){t.attributes[ft]!==!1&&super.onEnd(t)}}class np extends Jr{constructor(t){super(),O(this,"highlightEndpoints"),O(this,"tracingOrigins"),O(this,"urlBlocklist"),this.highlightEndpoints=[t.backendUrl,t.otlpEndpoint],this.tracingOrigins=t.tracingOrigins,this.urlBlocklist=t.urlBlocklist}inject(t,n,r){const i=N.getSpan(t);if(!i)return;const o=i.attributes["http.url"];if(typeof o=="string"&&!sp(o,this.highlightEndpoints,this.tracingOrigins,this.urlBlocklist)){i.setAttribute(ft,!1);return}super.inject(t,n,r)}}const rp="highlight-browser",Np=()=>te.getTracer(rp),ip=()=>N.getActiveSpan(),op=()=>q(void 0,null,function*(){te!==void 0&&(yield te.forceFlush(),te.shutdown())}),pr=(e,t,n)=>{var r,i,o;let s;const a=new URL(e),u=a.pathname;let c=`${t.toUpperCase()} - ${u}`;try{if(s=typeof n=="string"?JSON.parse(n):n,s&&s.query){const l=Uc(s.query),p=((r=l.definitions[0])==null?void 0:r.kind)==="OperationDefinition"?(o=(i=l.definitions[0])==null?void 0:i.name)==null?void 0:o.value:void 0;p&&(c=`${p} (GraphQL: ${a.host+a.pathname})`)}}catch{}return c},dr=(e,t,n,r)=>{var i;const o=typeof t=="string"?t:String(t);let s;try{s=t?JSON.parse(o):void 0,s.operationName&&e.setAttribute("graphql.operation.name",s.operationName)}catch{}const a=Ii((i=r?.networkHeadersToRedact)!=null?i:[],n,r?.headerKeysToRecord);e.setAttributes({"highlight.type":"http.request","http.request.headers":JSON.stringify(a),"http.request.body":o})},sp=(e,t,n,r)=>r!=null&&r.some(i=>e.toLowerCase().includes(i))?!1:Tt(e,t,n),fr=e=>{const t=e.events,n={unload:B("unloadEventStart","unloadEventEnd",t),dom_interactive:B("domInteractive","fetchStart",t),dom_content_loaded:B("domContentLoadedEventEnd","domContentLoadedEventStart",t),dom_complete:B("fetchStart","domComplete",t),load_event:B("loadEventStart","loadEventEnd",t),first_paint:B("fetchStart","firstPaint",t),first_contentful_paint:B("fetchStart","firstContentfulPaint",t),domain_lookup:B("domainLookupStart","domainLookupEnd",t),connect:B("connectStart","connectEnd",t),request:B("requestStart","requestEnd",t),response:B("responseStart","responseEnd",t)};Object.entries(n).forEach(([r,i])=>{i>0&&(e.setAttribute(`timings.${r}.ns`,i),e.setAttribute(`timings.${r}.readable`,qi(i)))})};function B(e,t,n){const r=n.find(s=>s.name===e),i=n.find(s=>s.name===t);if(!r||!i)return 0;const o=r.time[0]*1e9+r.time[1];return i.time[0]*1e9+i.time[1]-o}const ap=(e,t)=>{const n={domain_lookup:(t.domainLookupEnd-t.domainLookupStart)*1e6,connect:(t.connectEnd-t.connectStart)*1e6,request:(t.responseEnd-t.requestStart)*1e6,response:(t.responseEnd-t.responseStart)*1e6};Object.entries(n).forEach(([r,i])=>{i>0&&(e.setAttribute(`timings.${r}.ns`,i),e.setAttribute(`timings.${r}.readable`,qi(i)))})},qi=e=>{if(e>=36e11){const t=e/36e11;return`${Number(t.toFixed(1))}h`}else if(e>=6e10){const t=e/6e10;return`${Number(t.toFixed(1))}m`}else if(e>=1e9){const t=e/1e9;return`${Number(t.toFixed(1))}s`}else if(e>=1e6){const t=e/1e6;return`${Number(t.toFixed(1))}ms`}else if(e>=1e3){const t=e/1e3;return`${Number(t.toFixed(1))}s`}else return`${Number(e.toFixed(1))}ns`},hr=e=>e===!0?[/localhost/,/^\//,new RegExp(window.location.host)]:Array.isArray(e)?e.map(t=>typeof t=="string"?new RegExp(t):t):/^$/,up=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];var vr;(function(e){e.DeviceMemory="DeviceMemory",e.ViewportHeight="ViewportHeight",e.ViewportWidth="ViewportWidth",e.ScreenHeight="ScreenHeight",e.ScreenWidth="ScreenWidth",e.ViewportArea="ViewportArea"})(vr||(vr={}));var _r;(function(e){e.Device="Device",e.WebVital="WebVital",e.Performance="Performance",e.Frontend="Frontend",e.Backend="Backend"})(_r||(_r={}));const cp=(e,t,n)=>{const r=window._highlightWebSocketRequestCallback;window._highlightWebSocketRequestCallback=e;const i=window._highlightWebSocketEventCallback;return window._highlightWebSocketEventCallback=o=>{const s=o,a=br(s,["message","size"]),u=n.some(c=>o.name.toLowerCase().includes(c))?a:o;t(u)},()=>{window._highlightWebSocketRequestCallback=r,window._highlightWebSocketEventCallback=i}},lp=({xhrCallback:e,fetchCallback:t,webSocketRequestCallback:n,webSocketEventCallback:r,disableWebSocketRecording:i,bodyKeysToRedact:o,highlightEndpoints:s,tracingOrigins:a,urlBlocklist:u,bodyKeysToRecord:c})=>{const l=nl(e,s,a,u,o,c),p=il(t,s,a,u,o,c),d=i?()=>{}:cp(n,r,u);return()=>{l(),p(),d()}};class An{constructor(t){O(this,"disableConsoleRecording"),O(this,"reportConsoleErrors"),O(this,"enablePromisePatch"),O(this,"consoleMethodsToRecord"),O(this,"listeners"),O(this,"errors"),O(this,"messages"),O(this,"options"),O(this,"hasNetworkRecording",!0),O(this,"disableNetworkRecording"),O(this,"enableRecordingNetworkContents"),O(this,"xhrNetworkContents"),O(this,"fetchNetworkContents"),O(this,"disableRecordingWebSocketContents"),O(this,"webSocketNetworkContents"),O(this,"webSocketEventContents"),O(this,"tracingOrigins"),O(this,"networkHeadersToRedact"),O(this,"networkBodyKeysToRedact"),O(this,"networkBodyKeysToRecord"),O(this,"networkHeaderKeysToRecord"),O(this,"lastNetworkRequestTimestamp"),O(this,"urlBlocklist"),O(this,"highlightEndpoints"),O(this,"requestResponseSanitizer");var n,r;this.options=t,this.disableConsoleRecording=!!t.disableConsoleRecording,this.reportConsoleErrors=(n=t.reportConsoleErrors)!=null?n:!1,this.enablePromisePatch=(r=t.enablePromisePatch)!=null?r:!0,this.consoleMethodsToRecord=t.consoleMethodsToRecord||[...up],this.listeners=[],this.errors=[],this.messages=[],this.lastNetworkRequestTimestamp=0}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;const t=this;this.disableConsoleRecording||this.listeners.push(io(n=>{var r,i,o;if(this.reportConsoleErrors&&(n.type==="Error"||n.type==="error")&&n.value&&n.trace){const s=nt(n.value);if(Pn.includes(s)||kn.some(a=>s.includes(a)))return;t.errors.push({event:s,type:"console.error",url:window.location.href,source:(r=n.trace[0])!=null&&r.fileName?n.trace[0].fileName:"",lineNumber:(i=n.trace[0])!=null&&i.lineNumber?n.trace[0].lineNumber:0,columnNumber:(o=n.trace[0])!=null&&o.columnNumber?n.trace[0].columnNumber:0,stackTrace:n.trace,timestamp:new Date().toISOString()})}t.messages.push(n)},{level:this.consoleMethodsToRecord,logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}})),this.listeners.push(so(n=>{Pn.includes(n.event)||kn.some(r=>n.event.includes(r))||t.errors.push(n)},{enablePromisePatch:this.enablePromisePatch})),this.listeners.push(op),An.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(t=>t()),this.listeners=[]}static setupNetworkListener(t,n){var r,i,o,s,a,u,c,l,p,d,v,_;const f=n?.backendUrl||void 0||"https://pub.highlight.run",g=n.otlpEndpoint||"https://otel.highlight.io";t.highlightEndpoints=[f,g],t.xhrNetworkContents=[],t.fetchNetworkContents=[],t.webSocketNetworkContents=[],t.webSocketEventContents=[],t.networkHeadersToRedact=[],t.urlBlocklist=[],t.tracingOrigins=n.tracingOrigins||[],n?.disableNetworkRecording!==void 0?(t.disableNetworkRecording=n?.disableNetworkRecording,t.enableRecordingNetworkContents=!1,t.disableRecordingWebSocketContents=!0,t.networkHeadersToRedact=[],t.networkBodyKeysToRedact=[],t.urlBlocklist=[],t.networkBodyKeysToRecord=[]):typeof n?.networkRecording=="boolean"?(t.disableNetworkRecording=!n.networkRecording,t.enableRecordingNetworkContents=!1,t.disableRecordingWebSocketContents=!0,t.networkHeadersToRedact=[],t.networkBodyKeysToRedact=[],t.urlBlocklist=[]):(((r=n.networkRecording)==null?void 0:r.enabled)!==void 0?t.disableNetworkRecording=!n.networkRecording.enabled:t.disableNetworkRecording=!1,t.enableRecordingNetworkContents=((i=n.networkRecording)==null?void 0:i.recordHeadersAndBody)||!1,t.disableRecordingWebSocketContents=((o=n.networkRecording)==null?void 0:o.disableWebSocketEventRecordings)||!1,t.networkHeadersToRedact=((a=(s=n.networkRecording)==null?void 0:s.networkHeadersToRedact)==null?void 0:a.map(m=>m.toLowerCase()))||[],t.networkBodyKeysToRedact=((c=(u=n.networkRecording)==null?void 0:u.networkBodyKeysToRedact)==null?void 0:c.map(m=>m.toLowerCase()))||[],t.urlBlocklist=((p=(l=n.networkRecording)==null?void 0:l.urlBlocklist)==null?void 0:p.map(m=>m.toLowerCase()))||[],t.urlBlocklist=[...t.urlBlocklist,...Pi],t.requestResponseSanitizer=(d=n.networkRecording)==null?void 0:d.requestResponseSanitizer,t.networkHeaderKeysToRecord=(v=n.networkRecording)==null?void 0:v.headerKeysToRecord,t.networkHeaderKeysToRecord&&(t.networkHeadersToRedact=[],t.networkHeaderKeysToRecord=t.networkHeaderKeysToRecord.map(m=>m.toLocaleLowerCase())),t.networkBodyKeysToRecord=(_=n.networkRecording)==null?void 0:_.bodyKeysToRecord,t.networkBodyKeysToRecord&&(t.networkBodyKeysToRedact=[],t.networkBodyKeysToRecord=t.networkBodyKeysToRecord.map(m=>m.toLocaleLowerCase()))),!t.disableNetworkRecording&&t.enableRecordingNetworkContents&&t.listeners.push(lp({xhrCallback:m=>{t.xhrNetworkContents.push(m)},fetchCallback:m=>{t.fetchNetworkContents.push(m)},webSocketRequestCallback:m=>{t.webSocketNetworkContents&&t.webSocketNetworkContents.push(m)},webSocketEventCallback:m=>{t.webSocketEventContents.push(m)},disableWebSocketRecording:t.disableRecordingWebSocketContents,bodyKeysToRedact:t.networkBodyKeysToRedact,highlightEndpoints:t.highlightEndpoints,tracingOrigins:t.tracingOrigins,urlBlocklist:t.urlBlocklist,bodyKeysToRecord:t.networkBodyKeysToRecord}))}static getRecordedNetworkResources(t,n){var r,i;let o=[],s=[];if(!t.disableNetworkRecording){const a=((r=window?.performance)==null?void 0:r.timeOrigin)||0;o=performance.getEntriesByType("resource");const u=(n-a)*2;if(o=o.filter(c=>c.responseEnd<t.lastNetworkRequestTimestamp?!1:Tt(c.name,t.highlightEndpoints,t.tracingOrigins)).map(c=>D(k({},c.toJSON()),{offsetStartTime:c.startTime-u,offsetResponseEnd:c.responseEnd-u,offsetFetchStart:c.fetchStart-u})),t.lastNetworkRequestTimestamp=((i=o.at(-1))==null?void 0:i.responseEnd)||t.lastNetworkRequestTimestamp,t.enableRecordingNetworkContents){const c={headersToRedact:t.networkHeadersToRedact,headersToRecord:t.networkHeaderKeysToRecord,requestResponseSanitizer:t.requestResponseSanitizer};o=ir(o,t.xhrNetworkContents,"xmlhttprequest",c),o=ir(o,t.fetchNetworkContents,"fetch",c)}}return t.disableRecordingWebSocketContents||(s=t.webSocketNetworkContents||[]),[...o,...s]}static getRecordedWebSocketEvents(t){let n=[];return!t.disableNetworkRecording&&!t.disableRecordingWebSocketContents&&(n=t.webSocketEventContents),n}static clearRecordedNetworkResources(t){t.disableNetworkRecording||(t.xhrNetworkContents=[],t.fetchNetworkContents=[],t.webSocketNetworkContents=[],t.webSocketEventContents=[],performance.clearResourceTimings())}}const pp=()=>{var e;const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var n="";const r=typeof window<"u"&&((e=window.crypto)==null?void 0:e.getRandomValues),i=new Uint32Array(28);r&&window.crypto.getRandomValues(i);for(let o=0;o<28;o++)r?n+=t.charAt(i[o]%t.length):n+=t.charAt(Math.floor(Math.random()*t.length));return n},dp="9.7.1",fp=()=>{var e,t;typeof chrome<"u"&&(e=chrome==null?void 0:chrome.runtime)!=null&&e.onMessage&&((t=chrome==null?void 0:chrome.runtime)==null||t.onMessage.addListener((n,r,i)=>{const o=n.action;switch(console.log(`[highlight] received '${o}' event from extension.`),o){case"init":{R.init(1,{debug:!0}),R.getSessionURL().then(s=>{i({url:s})});break}case"stop":{R.stop(),i({success:!0});break}}return!0}))},cn=()=>{if(typeof window<"u"){if(typeof window._highlightFetchPatch<"u")return;window._originalFetch=window.fetch,window._fetchProxy=(e,t)=>window._originalFetch(e,t),window._highlightFetchPatch=(e,t)=>window._fetchProxy.call(window||j.global,e,t),window.fetch=window._highlightFetchPatch}},gr=()=>null,ln=()=>{if(typeof window<"u"){if(typeof window._highlightWebSocketRequestCallback<"u")return;window._highlightWebSocketRequestCallback=gr,window._highlightWebSocketEventCallback=gr;const e=new Proxy(window.WebSocket,{construct(t,n){const[,r]=Ln(),i=new t(...n),o=l=>{window._highlightWebSocketRequestCallback({socketId:r,initiatorType:"websocket",type:"open",name:i.url,startTimeAbs:performance.timeOrigin+l.timeStamp})},s=l=>{window._highlightWebSocketRequestCallback({socketId:r,initiatorType:"websocket",type:"close",name:i.url,responseEndAbs:performance.timeOrigin+l.timeStamp}),i.removeEventListener("open",o),i.removeEventListener("error",u),i.removeEventListener("message",a),i.removeEventListener("close",s)},a=l=>{const{data:p}=l,d=typeof p=="string"?l.data:void 0;let v;typeof p=="string"?v=p.length:p instanceof Blob?v=p.size:v=p.byteLength||0,window._highlightWebSocketEventCallback({socketId:r,type:"received",name:i.url,timeStamp:performance.timeOrigin+l.timeStamp,size:v,message:d})},u=l=>{window._highlightWebSocketEventCallback({socketId:r,type:"error",name:i.url,timeStamp:performance.timeOrigin+l.timeStamp,size:0})};i.addEventListener("open",o),i.addEventListener("error",u),i.addEventListener("message",a),i.addEventListener("close",s);const c=new Proxy(i.send,{apply:function(l,p,d){const v=d[0],_=typeof v=="string"?v:void 0;let f;typeof v=="string"?f=v.length:v instanceof Blob?f=v.size:f=v.byteLength||0,window._highlightWebSocketEventCallback({socketId:r,type:"sent",name:i.url,timeStamp:performance.timeOrigin+performance.now(),size:f,message:_}),l.apply(p,d)}});return i.send=c,i}});window.WebSocket=e}},mr=()=>{const e={end:()=>{},spanContext:()=>({traceId:"",spanId:"",traceFlags:0}),setAttribute:(t,n)=>e,setAttributes:t=>e,addEvent:(t,n,r)=>e,addLinks:t=>e,setStatus:t=>e,recordException:()=>{},addLink:()=>e,updateName:()=>e,isRecording:()=>!1};return e};var pn;(function(e){e.Device="Device",e.WebVital="WebVital",e.Frontend="Frontend",e.Backend="Backend"})(pn||(pn={}));const X=(e,t)=>{console.warn(`highlight.run warning: (${e}): `,t)},hp=200;let ze=[],qt,w,$e,Er=!1,Re;const R={options:void 0,init:(e,t)=>{var n,r,i,o,s,a,u,c;try{if(R.options=t,typeof window>"u"||typeof document>"u")return;if(!e){console.info("Highlight is not initializing because projectID was passed undefined.");return}t!=null&&t.skipCookieSessionDataLoad?qc(!1):Jc();let l=Ht(),p=pp();if(l!=null&&l.sessionSecureID&&(p=l.sessionSecureID),Er)return{sessionSecureID:p};Er=!0,cn(),ln(),Xi(()=>import("./index-CVGtrNBR.BsM94BWm.js"),__vite__mapDeps([0,1])).then(v=>q(void 0,[v],function*({Highlight:_,setupBrowserTracing:f,getTracer:g}){var m,b,P;f({otlpEndpoint:(m=t?.otlpEndpoint)!=null?m:"https://otel.highlight.io",projectId:e,sessionSecureId:p,environment:(b=t?.environment)!=null?b:"production",networkRecordingOptions:typeof t?.networkRecording=="object"?t.networkRecording:void 0,tracingOrigins:t?.tracingOrigins,serviceName:(P=t?.serviceName)!=null?P:"highlight-browser"}),Re=g,w=new _(d,$e),cn(),ln(),t!=null&&t.manualStart||(yield w.initialize())}));const d=D(k({},t),{organizationID:e,firstloadVersion:dp,environment:t?.environment||"production",appVersion:t?.version,sessionSecureID:p});return $e=new An(d),t!=null&&t.manualStart||$e.startListening(),!((r=(n=t?.integrations)==null?void 0:n.mixpanel)!=null&&r.disabled)&&(o=(i=t?.integrations)==null?void 0:i.mixpanel)!=null&&o.projectToken&&Yi(t.integrations.mixpanel),!((a=(s=t?.integrations)==null?void 0:s.amplitude)!=null&&a.disabled)&&(c=(u=t?.integrations)==null?void 0:u.amplitude)!=null&&c.apiKey&&Wi(t.integrations.amplitude),{sessionSecureID:p}}catch(l){X("init",l)}},snapshot:e=>q(void 0,null,function*(){try{if(w&&w.ready)return yield w.snapshot(e)}catch(t){X("snapshot",t)}}),addSessionFeedback:({verbatim:e,userName:t,userEmail:n,timestampOverride:r})=>{try{R.onHighlightReady(()=>w.addSessionFeedback({verbatim:e,timestamp:r||new Date().toISOString(),user_email:n,user_name:t}))}catch(i){X("error",i)}},consumeError:(e,t,n)=>{try{R.onHighlightReady(()=>w.consumeCustomError(e,t,JSON.stringify(n)))}catch(r){X("error",r)}},consume:(e,t)=>{try{R.onHighlightReady(()=>w.consumeError(e,t))}catch(n){X("error",n)}},error:(e,t)=>{try{R.onHighlightReady(()=>w.pushCustomError(e,JSON.stringify(t)))}catch(n){X("error",n)}},track:(e,t={})=>{var n,r,i,o,s,a,u,c,l,p,d;try{R.onHighlightReady(()=>w.addProperties(D(k({},t),{event:e})));const v=w?.getCurrentSessionURL();(i=(r=(n=R.options)==null?void 0:n.integrations)==null?void 0:r.mixpanel)!=null&&i.disabled||(o=window.mixpanel)!=null&&o.track&&window.mixpanel.track(e,D(k({},t),{highlightSessionURL:v})),(u=(a=(s=R.options)==null?void 0:s.integrations)==null?void 0:a.amplitude)!=null&&u.disabled||(c=window.amplitude)!=null&&c.getInstance&&window.amplitude.getInstance().logEvent(e,D(k({},t),{highlightSessionURL:v})),(d=(p=(l=R.options)==null?void 0:l.integrations)==null?void 0:p.intercom)!=null&&d.disabled||window.Intercom&&window.Intercom("trackEvent",e,t)}catch(v){X("track",v)}},start:e=>{w?.state==="Recording"&&!(e!=null&&e.forceNew)?e!=null&&e.silent||console.warn("Highlight is already recording. Please `H.stop()` the current session before starting a new one."):($e.startListening(),R.onHighlightReady(()=>q(void 0,null,function*(){yield w.initialize(e)}),{waitForReady:!1}))},stop:e=>{w?.state!=="Recording"?e!=null&&e.silent||console.warn("Highlight is already stopped. Please call `H.start()`."):R.onHighlightReady(()=>w.stopRecording(!0))},identify:(e,t={})=>{var n,r,i,o,s,a,u,c;try{R.onHighlightReady(()=>w.identify(e,t))}catch(l){X("identify",l)}if((i=(r=(n=R.options)==null?void 0:n.integrations)==null?void 0:r.mixpanel)!=null&&i.disabled||(o=window.mixpanel)!=null&&o.identify&&(window.mixpanel.identify(typeof t?.email=="string"?t?.email:e),t&&(window.mixpanel.track("identify",t),window.mixpanel.people.set(t))),!((u=(a=(s=R.options)==null?void 0:s.integrations)==null?void 0:a.amplitude)!=null&&u.disabled)&&(c=window.amplitude)!=null&&c.getInstance&&(window.amplitude.getInstance().setUserId(e),Object.keys(t).length>0)){const l=Object.keys(t).reduce((p,d)=>(p.set(d,t[d]),p),new window.amplitude.Identify);window.amplitude.getInstance().identify(l)}},metrics:e=>{try{R.onHighlightReady(()=>w.recordMetric(e.map(t=>D(k({},t),{category:pn.Frontend}))))}catch(t){X("metrics",t)}},startSpan:(e,t,n,r)=>{const i=typeof Re=="function"?Re():void 0;if(!i){const s=mr();return r===void 0&&n===void 0?t(s):r===void 0?n(s):r(s)}const o=(s,a)=>{const u=a(s);return u instanceof Promise?u.finally(()=>s.end()):(s.end(),u)};return r===void 0&&n===void 0?i.startActiveSpan(e,s=>o(s,t)):r===void 0?i.startActiveSpan(e,t,s=>o(s,n)):i.startActiveSpan(e,t,n,s=>o(s,r))},startManualSpan:(e,t,n,r)=>{const i=typeof Re=="function"?Re():void 0;if(!i){const o=mr();return r===void 0&&n===void 0?t(o):r===void 0?n(o):r(o)}return r===void 0&&n===void 0?i.startActiveSpan(e,t):r===void 0?i.startActiveSpan(e,t,n):i.startActiveSpan(e,t,n,r)},getSessionURL:()=>new Promise((e,t)=>{R.onHighlightReady(()=>{const n=w.sessionData.sessionSecureID,r=Ht(n);r?e(`https://${Qi}/${r.projectID}/sessions/${n}`):t(new Error(`Unable to get session URL: ${n}`))})}),getSessionDetails:()=>new Promise((e,t)=>{R.onHighlightReady(()=>q(void 0,null,function*(){try{const n=yield R.getSessionURL();if(!n)throw new Error("Could not get session URL");const r=w.sessionData.sessionSecureID,i=Ht(r),o=i?.sessionStartTime;if(!o)throw new Error("Could not get session start timestamp");const s=new Date().getTime(),a=new URL(n),u=new URL(n);u.searchParams.set("ts",((s-o)/1e3).toString()),e({url:a.toString(),urlWithTimestamp:u.toString(),sessionSecureID:r})}catch(n){t(n)}}))}),getRecordingState:()=>{var e;return(e=w?.state)!=null?e:"NotRecording"},onHighlightReady:(e,t)=>{if(w&&w.ready){e();return}if(ze.push({options:t,func:e}),qt!==void 0)return;const n=()=>{ze=ze.filter(r=>{var i;return!w||((i=r.options)==null?void 0:i.waitForReady)!==!1&&!w.ready?!0:(r.func(),!1)}),qt=void 0,ze.length>0&&(qt=setTimeout(n,hp))};n()}};typeof window<"u"&&(window.H=R);fp();cn();ln();R.init("ldwyn3kg",{tracingOrigins:["localhost","127.0.0.1","api.jutsu.world"],environment:"production",version:"admin-jutsuinc/-ursas--4f3d93fdf9603809217f58316b37e08624977640",networkRecording:{enabled:!0,recordHeadersAndBody:!0,urlBlocklist:["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"]}});window.H=R;export{Sp as A,An as C,_p as E,Gc as G,Qi as J,Ai as L,Uc as M,Li as N,Or as O,Sr as R,vr as T,qc as V,Yc as Y,yp as a,wp as b,mp as c,Ep as d,E as e,pp as f,Ee as g,bp as h,jt as i,wi as j,fc as k,Op as l,_r as m,Np as n,Ht as q,nt as r,tt as t,gp as v,Rp as w,Tp as y,$c as z};
//# sourceMappingURL=page.BNSObZXN.js.map
