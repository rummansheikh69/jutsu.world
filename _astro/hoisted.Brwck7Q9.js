import{V as ue}from"./hoisted.OgwwgjAf.js";import"./store.BgoNh_Ns.js";import"./utils.CTzHa8pX.js";import"./index.RYns6xqu.js";import"./notifications.DsA4Fb-I.js";import"./formatEther.BT9kyPVd.js";var v=(e=>(e.desktop="desktop",e.tablet="tablet",e.mobile="mobile",e))(v||{});const he={[v.desktop]:[{x:556,y:1898,w:2587.95,h:1840.32},{x:4388,y:2160,w:2542.42,h:1807.94},{x:9762,y:1812,w:2542.42,h:1807.94},{x:13048,y:2160,w:2955.09,h:2101.39},{x:17886,y:2108,w:2825.34,h:2009.13,alignment:"place-self-center self-start xl:place-self-end xl:self-end"},{x:22044,y:2040,w:2855.11,h:2030.3},{x:24388,y:2160,w:3021.32,h:2148.5},{x:29052,y:2160,w:3021.32,h:2148.5},{x:29052,y:2160,w:3021.32,h:2148.5},{x:29052,y:2160,w:3021.32,h:2148.5}],[v.tablet]:[{x:60,y:1632,h:1625.85,w:2327.66,alignment:"place-self-center self-start"},{x:3938,y:2160,h:1816.04,w:2599.96,alignment:"place-self-center self-start"},{x:9023,y:2094,h:1922.73,w:2752.7,alignment:"place-self-center self-end"},{x:12451,y:2160,h:2013.31,w:2882.38,alignment:"place-self-center self-end"},{x:17820,y:2160,h:2013.31,w:2882.38,alignment:"place-self-center self-start"},{x:22056,y:1852,h:1854.36,w:2655.5,alignment:"place-self-center self-end"},{x:24220,y:2148,h:2148.28,w:3076.39,alignment:"place-self-center self-end"},{x:29e3,y:2160,h:2155.77,w:3087.13,alignment:"place-self-center self-start"},{x:29e3,y:2160,h:2155.77,w:3087.13,alignment:"place-self-center self-start"},{x:29e3,y:2160,h:2155.77,w:3087.13,alignment:"place-self-center self-start"}],[v.mobile]:[{x:628,y:1635,w:3539.77,h:1635.67,alignment:"place-self-center self-start"},{x:4530,y:2160,w:4205.51,h:1943.81,alignment:"place-self-center self-start"},{x:9753,y:1730,w:3744.29,h:1730.18,alignment:"place-self-center self-end"},{x:13174,y:2160,w:4210.61,h:1945.66,alignment:"place-self-center self-start"},{x:15772,y:2160,w:4428.63,h:2046.04,alignment:"place-self-center self-start"},{x:20279,y:1771,w:3835.99,h:1771.67,alignment:"place-self-center self-end"},{x:24708,y:2011,w:4352.03,h:2011.01,alignment:"place-self-center self-start"},{x:29190.78,y:1957,w:2756.24,h:1274.19,alignment:"place-self-center self-start"},{x:29190.78,y:1957,w:2756.24,h:1274.19,alignment:"place-self-center self-start"},{x:29190.78,y:1957,w:2756.24,h:1274.19,alignment:"place-self-center self-start"}]},pe={[v.tablet]:[{x:570,y:1836,w:1282.74,h:1836.45,alignment:"place-self-center self-start"},{x:4533,y:2160,w:1391.53,h:1992.19,alignment:"place-self-center self-start"},{x:9835,y:2160,w:1421.38,h:2034.92,alignment:"place-self-center self-end"},{x:12862,y:2038,w:1425.1,h:2040.25,alignment:"place-self-center self-start"},{x:18303,y:2160,w:2040.25,h:2040.25,alignment:"place-self-center self-start"},{x:22434,y:1989,w:1371.71,h:1963.82,alignment:"place-self-center self-end"},{x:24384,y:2160,w:1490.69,h:2134.15,alignment:"place-self-center self-start"},{x:29782,y:2152,w:1503.6,h:2152.63,alignment:"place-self-center self-start"},{x:29782,y:2152,w:1503.6,h:2152.63,alignment:"place-self-center self-start"},{x:29782,y:2152,w:1503.6,h:2152.63,alignment:"place-self-center self-start"}],[v.mobile]:[{x:886,y:1715,w:780,h:1688,alignment:"place-self-center self-start"},{x:4820,y:2160,w:945.16,h:2045.43,alignment:"place-self-center self-start"},{x:9988,y:2160,w:890.24,h:1926.57,alignment:"place-self-center self-end"},{x:13466,y:2160,w:982.69,h:2126.63,alignment:"place-self-center self-start"},{x:18898,y:2160,w:982.69,h:2126.63,alignment:"place-self-center self-start"},{x:22840,y:2060,w:925.33,h:2002.51,alignment:"place-self-center self-end"},{x:27642,y:2160,w:943.78,h:2042.45,alignment:"place-self-center self-start"},{x:30073,y:2160,w:943.78,h:2042.45,alignment:"place-self-center self-start"},{x:30073,y:2160,w:943.78,h:2042.45,alignment:"place-self-center self-start"},{x:30073,y:2160,w:943.78,h:2042.45,alignment:"place-self-center self-start"}]},ye={[v.desktop]:{available:["landscape"],width:1440,height:1024},[v.tablet]:{available:["landscape","portrait"],width:1194,height:834},[v.mobile]:{available:["landscape","portrait"],width:852,height:393}},ge={w:32948,h:2160},j=9;let k=0,w=-1,L=!1,F=[];const Z=e=>{F.push(e)},$=()=>{k=w,w++,w>j&&(w=0),F.forEach(e=>{e(w)})},xe=()=>{k=w,w--,w<0&&(w=j),F.forEach(e=>{e(w)})},we=e=>{w=e},C=()=>w,I=()=>k,P=()=>!!L,M=e=>{L=e,e.then(t=>{L=!1})},ve=e=>{if(L)L.then(t=>{const n=e();M(n)});else{const t=e();M(t)}};function be(e,t=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,o)},t)}}const Se=be(ve,500),B=(e,t,n)=>{const{h:o,w:r}=ge,l=e.w/r,h=e.h/o,s=t.viewData[n],i=s.w*l,m=s.h*h,p=s.x*l,f=p+i,x=s.y*h,d=s.y*h-m;return{imageWidth:e.w,imageHeight:e.h,deviceWidth:t.width,deviceHeight:t.height,top:d,bottom:x,left:p,right:f,width:i,height:m,middleX:p+i/2,middleY:d+m/2,alignment:s.alignment,zoom:o/s.h}},N=()=>{const e=window.innerWidth,t=window.innerHeight,n=e>t?"landscape":"portrait",o=Object.entries(ye).map(([s,i])=>i.available.includes(n)?{deviceType:s,placement:n,width:n==="landscape"?i.width:i.height,height:n==="landscape"?i.height:i.width}:null).filter(s=>s!==null).sort((s,i)=>s.width-i.width);let r=1,l=o[0];for(;r<o.length&&!(o[r].width>e);)l=o[r],r++;const h=l.placement==="landscape"?he[l.deviceType]:pe[l.deviceType];return{...l,viewData:h.map(s=>({...s,alignment:s.alignment}))}},D=(e,{startAt:t,endAt:n})=>Math.min(1,Math.max(0,(e-t)/(n-t))),Q=(e,t,n)=>{const o=e.zoom-1,r=t.scale-1,l=o.toFixed(3)===r.toFixed(3),h=Math.abs(o)+Math.abs(r),s=e.middleX-(t.scrollX+t.containerWidth/2),i=e.top-t.scrollY,p=Math.max(i,s)*1,f=h*30,x=n||Math.max(p,f,1e3);let d={x:null,y:null};return{duration:x,initialiseZoomAtPos(a){a.style.transformOrigin=`${e.middleX}px ${Math.max(e.top,0)}px`,a.style.transform=`scale(${e.zoom})`},initialiseScrollAtPos(a){a.scrollLeft=s,a.scrollTop=i},animateZoomIn(a,c){if(l)return;const u=D(c,{startAt:2/3,endAt:1});if(u){a.style.transformOrigin=`${e.middleX}px ${e.top}px`;const y=Math.min(1+o,1+o*u);a.style.transform=`scale(${y})`}},animateZoomOut(a,c){if(l)return;const u=D(c,{startAt:0,endAt:1/3});if(u){a.style.transformOrigin=`${e.middleX}px 100%`;const y=Math.max(1,t.scale-r*u);a.style.transform=`scale(${y})`}},animateOpacityInLinear(a,c){c&&(a.style.opacity=String(c))},animateOpacityIn(a,c){const u=D(c,{startAt:.6666666666666666,endAt:1});u&&(a.style.zIndex="999",a.style.direction="block",e.alignment&&e.alignment.split(" ").forEach(y=>{a.classList.add(y)}),a.style.opacity=String(u))},animateOpacityOutLinear(a,c){if(a.style.opacity!=="0"&&c){const u=1-c;a.style.opacity=String(u<.95?0:u)}},animateOpacityOut(a,c){const u=D(c,{startAt:0,endAt:.3333333333333333});if(a.style.opacity!=="0"&&u){const y=1-u;a.style.opacity=String(y<.95?0:y),y<.95&&(a.style.zIndex="0",a.style.direction="none")}},animateScroll(a,c){d.x===null&&(d.x=a.scrollLeft||0),d.y===null&&(d.y=a.scrollTop||0),a.scrollLeft=d.x+s*Y(c),a.scrollTop=d.y+i*Y(c),c===1&&(d.x=null,d.y=null)}}},G=e=>{const t=e.querySelector("[data-bg-mural]");if(t===null||!(t instanceof HTMLElement))throw Error("Mural not found");return t},J=e=>{const t=e.querySelector("[data-bg-mural-container]");if(t===null||!(t instanceof HTMLElement))throw Error("Image container not found");return t},Ce=e=>[...e.querySelectorAll("[data-bg-mural-content]")].filter(o=>{var r=window.getComputedStyle(o);return r.display!=="none"}),K=e=>{const o=[...e.querySelectorAll(".characters")].filter(r=>{var l=window.getComputedStyle(r);return l.display!=="none"})[0];if(o===null||!(o instanceof HTMLElement))throw Error("CharacterContainer not found");return o},Ae=e=>[...K(e).querySelectorAll(".inner")].filter(o=>!0),Me=e=>{const t=e.querySelector("#hero-full");if(t===null||!(t instanceof HTMLElement))throw Error("HeroContainer not found");return t};function U(e){const n=window.getComputedStyle(e).transform.match(/matrix\(([\d.]+),/);return n?parseFloat(n[1]):null}function Ie(e){const t=e.match(/rotateY\((-?\d+(\.\d+)?)deg\)/);return t?parseInt(t[1]):0}function Y(e){return Math.sin(e*Math.PI/2)}function Ee(e){return 1-Math.pow(1-e,3)}function Le(e){return 1-Math.sqrt(1-Math.pow(e,2))}function R(e){return-(Math.cos(Math.PI*e)-1)/2}function Te(e,t){const{index:n,previousIndex:o,duration:r}=e,l=this,h=J(l),s=G(l),i=Ce(l),m=N(),p=B({w:s.clientWidth,h:s.clientHeight},m,n),f=Me(l),x=K(l),d=Ae(l),{duration:a,...c}=Q(p,{scale:U(s)||1,scrollX:h.scrollLeft,scrollY:h.scrollTop,containerHeight:h.clientHeight,containerWidth:h.clientWidth},r),u=performance.now();function y(){const H=performance.now()-u,g=Math.min(H/a,1),{animateZoomIn:b,animateZoomOut:te,animateOpacityIn:ne,animateOpacityOut:V,animateScroll:ae,animateOpacityInLinear:se,animateOpacityOutLinear:oe}=c;if(te(s,g),b(s,g),i.forEach(S=>{S instanceof HTMLElement&&(S.dataset.bgMuralContent===`${n}`?ne(S,g):(S.style.opacity&&V(S,g),V(f,g)))}),ae(h,g),n>7){const S=n-8,A=Math.max(0,o-7)*120,W=S*120+120,le=Math.round((W-A)*R(g)),re=Ie(x.style.transform),ce=2-Math.floor(A/120%2);re!==A&&(x.style.transform=`rotateY(${A}deg)`),x.style.transform=`rotateY(${A+le}deg)`,d.forEach((q,z)=>{const X=-A-z*120,ie=-W-z*120,me=Math.round((ie-X)*R(g)),O=q.querySelector(".behind"),fe=q.querySelector(".front"),de=Number(q.dataset.idx);O instanceof HTMLElement&&fe instanceof HTMLElement&&(ce===de?oe(O,Le(g)):parseFloat(O.style.opacity)<.95&&se(O,Ee(g))),q.style.transform=`rotateY(${X+me}deg)`})}g<1?requestAnimationFrame(y):t(!0)}requestAnimationFrame(y)}function ee(){const e=this,t=J(e),n=G(e),o=N(),r=B({w:n.clientWidth,h:n.clientHeight},o,0),l=Q(r,{scale:U(n)||1,scrollX:t.scrollLeft,scrollY:t.scrollTop,containerHeight:t.clientHeight,containerWidth:t.clientWidth}),{initialiseScrollAtPos:h,initialiseZoomAtPos:s}=l;s(n),h(t)}function E(e){return new Promise(t=>{Te.call(this,e,t)})}addEventListener("load",async()=>{ee.call(document);const e=new ue,t=document.querySelector("#audio-theme"),n=document.querySelector("#audio-battle"),o=document.querySelector("#audio-tribes-essences"),r=document.querySelector("#audio-unrest"),l=[t,n,o,r];t.volume=e.getVolume(),Z(m=>{document.querySelectorAll("[data-bg-mural-nav]").forEach(f=>{f instanceof HTMLElement&&(f.dataset.active=`${parseInt(f.dataset.idx||"0")===m}`)})}),document.querySelectorAll("[data-bg-mural-content-indicator]").forEach(m=>{m instanceof HTMLElement&&m.addEventListener("click",p=>{const f=m.dataset.type||"next";if(p.preventDefault(),P())return;f==="next"?$():f==="prev"&&xe();const x=E.call(document,{index:C(),previousIndex:I()});M(x)})});const s=m=>{switch(m){case 0:return t;case 1:return t;case 2:return t;case 3:return r;case 4:return r;case 5:return o;case 6:return o;case 7:return n;case 8:return n;case 9:return n;case 10:return n;default:return t}};Z(m=>{document.querySelectorAll("[data-bg-mural-content]").forEach(f=>{f instanceof HTMLElement&&(f.dataset.active=`${parseInt(f.dataset.idx||"0")===m}`)})});let i=!1;e.subscribe(m=>{if(i)return;const p=s(C());p&&(p.volume=m)}),Z(m=>{function f(d){i=!0;const a=performance.now();d.play();function c(){const y=performance.now()-a,T=Math.min(y/1e3,1),H=e.getVolume(),g=T*H;l.forEach(b=>{b.id===d.id?b.volume=d.volume>g?d.volume:g:b.volume&&(b.volume=b.volume*(1-T)*H)}),T<1&&(i=!1,requestAnimationFrame(c))}requestAnimationFrame(c)}const x=s(m);x&&f(x)})});const _=async e=>{const t=e.target;if(t instanceof HTMLElement){if(t.closest("[data-start-stage-linkable]")){if(e.preventDefault(),P())return;$();const n=E.call(document,{index:C(),previousIndex:I()});M(n);return}if(!t.closest("[data-linkable]")&&!t.closest("[data-mural-ignore]")&&!t.closest("[data-bg-mural-content]")){if(t.closest("[data-bg-mural-nav]")){e.preventDefault();const n=parseInt(t.dataset.idx||"0");if(n===void 0||P())return;document.querySelectorAll("[data-bg-mural-nav]").forEach(l=>{l instanceof HTMLElement&&(l.dataset.active=`${parseInt(l.dataset.idx||"0")===n}`)}),we(n);const r=E.call(document,{index:C(),previousIndex:I()});M(r);return}if(t.closest("[data-bg-mural-mask]")){if(e.preventDefault(),P())return;$();const n=E.call(document,{index:C(),previousIndex:I()});M(n);return}}}};addEventListener("click",_);addEventListener("touchstart",_);addEventListener("wheel",_);addEventListener("resize",async()=>{C()<0?ee.call(document):Se(()=>E.call(document,{index:C(),previousIndex:I(),duration:10}))});
//# sourceMappingURL=hoisted.Brwck7Q9.js.map
